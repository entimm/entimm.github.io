<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Entimm&#39;s Blog</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://entimm.com/"/>
  <updated>2017-06-14T13:48:52.000Z</updated>
  <id>https://entimm.com/</id>
  
  <author>
    <name>entimm</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>git format-patch and git diff</title>
    <link href="https://entimm.com/2017/06/14/git-format-patch%E5%92%8Cgit-diff/"/>
    <id>https://entimm.com/2017/06/14/git-format-patch和git-diff/</id>
    <published>2017-06-14T13:48:27.000Z</published>
    <updated>2017-06-14T13:48:52.000Z</updated>
    
    <content type="html"><![CDATA[<p>git中则提供了两种patch方案：</p>
<p>用git diff生成的标准patch，可以提供上述的patch命令使用。<br>用git format-patch生成的git专用patch。<br>两种patch的比较：</p>
<p>兼容性：很明显，git diff生成的patch兼容性强。如果你在修改的代码的官方版本库不是git管理的版本库，那么你必须使用git diff生成的patch才能让你的代码被项目的维护人接受。<br>除错功能：对于git diff生成的patch，你可以用git apply –check查看补丁是否能够干净顺利地应用到当前分支中；如果git format-patch生成的补丁不能打到当前分支，git am会给出提示，并协助你完成打补丁工作，你也可以使用git am -3进行三方合并，详细的做法可以参考git手册或者《Progit》。从这一点上看，两者除错功能都很强。<br>提交信息：由于git format-patch生成的补丁中含有这个补丁开发者的名字，因此在应用补丁时，这个名字会被记录进版本库，显然，这样做是恰当的。因此，目前使用git的开源社区往往建议大家使用git format-patch生成补丁。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;git中则提供了两种patch方案：&lt;/p&gt;
&lt;p&gt;用git diff生成的标准patch，可以提供上述的patch命令使用。&lt;br&gt;用git format-patch生成的git专用patch。&lt;br&gt;两种patch的比较：&lt;/p&gt;
&lt;p&gt;兼容性：很明显，git diff生成的patch兼容性强。如果你在修改的代码的官方版本库不是git管理的版本库，那么你必须使用git diff生成的patch才能让你的代码被项目的维护人接受。&lt;br&gt;除错功能：对于git diff生成的patch，你可以用git apply –check查看补丁是否能够干净顺利地应用到当前分支中；如果git format-patch生成的补丁不能打到当前分支，git am会给出提示，并协助你完成打补丁工作，你也可以使用git am -3进行三方合并，详细的做法可以参考git手册或者《Progit》。从这一点上看，两者除错功能都很强。&lt;br&gt;提交信息：由于git format-patch生成的补丁中含有这个补丁开发者的名字，因此在应用补丁时，这个名字会被记录进版本库，显然，这样做是恰当的。因此，目前使用git的开源社区往往建议大家使用git format-patch生成补丁。&lt;/p&gt;

    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>git merge 和 git rebase</title>
    <link href="https://entimm.com/2017/06/14/git-merge%E5%92%8Cgit-rebase/"/>
    <id>https://entimm.com/2017/06/14/git-merge和git-rebase/</id>
    <published>2017-06-14T13:45:38.000Z</published>
    <updated>2017-06-14T13:46:14.000Z</updated>
    
    <content type="html"><![CDATA[<p>git merge简要说明</p>
<ol>
<li>git merge会产生一次新的commit版本，并且此版本会有2个或者更多个父提交，可以通过HEAD^1，HEAD^2，HEAD^n方法来引用此提交的父提交。</li>
<li>git merge是非破坏性的(non-destructive)操作，没有负作用，并且被合并的这些分支都可以git push发布到remote公共仓库中。</li>
<li>由于每次合并会产生一次新的提交历史，如果主分支非常活跃，就会产生很多这种合并分支的提交历史，会对项目本身的提交历史产生污染。<br>git-rebase-test.sh测试脚本</li>
</ol>
<p>git rebase简要说明</p>
<ol>
<li>git rebase 会产生一个修改过的很干净的项目提交历史，例如在feature分支上git rebase master，会将feature分支上的提交添加到master分支的最顶端。</li>
<li>git rebase操作有负面效果，影响项目提交历史的安全性(safety)和可追溯性(traceability)。</li>
<li>git rebase -i master可以交互式压缩提交(squash)或者忽略指定提交。</li>
<li>git rebase使用黄金守则: NEVER USE IT ON PUBLIC BRANCHES.</li>
<li>不要将主分支rebase到特性分支上(don’t rebased master onto your feature branch: git rebase feature)。</li>
<li>其他开发者提交的新特性和修改(如patch)应该创建一个临时分支apply这些修改，再使用git merge合并修改到主分支上，而不是使用git rebase方式操作，因为rebase操作修改了提交历史，很难追溯哪些提交新增了这些特性和修改。</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;git merge简要说明&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;git merge会产生一次新的commit版本，并且此版本会有2个或者更多个父提交，可以通过HEAD^1，HEAD^2，HEAD^n方法来引用此提交的父提交。&lt;/li&gt;
&lt;li&gt;git merge是非破坏性的(non-destructive)操作，没有负作用，并且被合并的这些分支都可以git push发布到remote公共仓库中。&lt;/li&gt;
&lt;li&gt;由于每次合并会产生一次新的提交历史，如果主分支非常活跃，就会产生很多这种合并分支的提交历史，会对项目本身的提交历史产生污染。&lt;br&gt;git-rebase-test.sh测试脚本&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;git rebase简要说明&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;git rebase 会产生一个修改过的很干净的项目提交历史，例如在feature分支上git rebase master，会将feature分支上的提交添加到master分支的最顶端。&lt;/li&gt;
&lt;li&gt;git rebase操作有负面效果，影响项目提交历史的安全性(safety)和可追溯性(traceability)。&lt;/li&gt;
&lt;li&gt;git rebase -i master可以交互式压缩提交(squash)或者忽略指定提交。&lt;/li&gt;
&lt;li&gt;git rebase使用黄金守则: NEVER USE IT ON PUBLIC BRANCHES.&lt;/li&gt;
&lt;li&gt;不要将主分支rebase到特性分支上(don’t rebased master onto your feature branch: git rebase feature)。&lt;/li&gt;
&lt;li&gt;其他开发者提交的新特性和修改(如patch)应该创建一个临时分支apply这些修改，再使用git merge合并修改到主分支上，而不是使用git rebase方式操作，因为rebase操作修改了提交历史，很难追溯哪些提交新增了这些特性和修改。&lt;/li&gt;
&lt;/ol&gt;

    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>关于文件大小写</title>
    <link href="https://entimm.com/2017/06/14/%E5%85%B3%E4%BA%8E%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F%E5%86%99/"/>
    <id>https://entimm.com/2017/06/14/关于文件大小写/</id>
    <published>2017-06-14T07:50:05.000Z</published>
    <updated>2017-06-14T08:01:04.000Z</updated>
    
    <content type="html"><![CDATA[<p>突然发现自己的电脑中，git对文件大小写是不敏感的，执行下面的命令吧</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span> 全局</div><div class="line">git config --global core.ignorecase false</div><div class="line"><span class="meta">#</span> 项目</div><div class="line">git config core.ignorecase false</div></pre></td></tr></table></figure>
<h2 id="修正文件大小写"><a href="#修正文件大小写" class="headerlink" title="修正文件大小写"></a>修正文件大小写</h2><p>受文件系统的影响，直接修改可能会行不通<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git mv filename FileName</div><div class="line"><span class="meta">#</span> fatal: destination exists</div></pre></td></tr></table></figure></p>
<p>方案1</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git mv filename filename_tmp</div><div class="line">git mv filename_tmp FileName</div></pre></td></tr></table></figure>
<p>方案2(awesome)</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git mv -f filename FileName</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;突然发现自己的电脑中，git对文件大小写是不敏感的，执行下面的命令吧&lt;/p&gt;
&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt; 全局&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git config --global core.ignorecase false&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt; 项目&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git config core.ignorecase false&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;修正文件大小写&quot;&gt;&lt;a href=&quot;#修正文件大小写&quot; class=&quot;headerlink&quot; title=&quot;修正文件大小写&quot;&gt;&lt;/a&gt;修正文件大小写&lt;/h2&gt;&lt;p&gt;受文件系统的影响，直接修改可能会行不通&lt;br&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git mv filename FileName&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt; fatal: destination exists&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;方案1&lt;/p&gt;
&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git mv filename filename_tmp&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git mv filename_tmp FileName&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;方案2(awesome)&lt;/p&gt;
&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git mv -f filename FileName&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>git本地化操作</title>
    <link href="https://entimm.com/2017/06/13/git%E6%9C%AC%E5%9C%B0%E5%8C%96%E6%93%8D%E4%BD%9C/"/>
    <id>https://entimm.com/2017/06/13/git本地化操作/</id>
    <published>2017-06-13T03:04:14.000Z</published>
    <updated>2017-06-13T03:12:20.000Z</updated>
    
    <content type="html"><![CDATA[<p>很多时候我们会有一些本地化的代码修改操作，却并不想污染到代码仓库，有如下技巧</p>
<p>.git/info/exclude文件中进行文件的跟踪忽略，效果同.gitignore</p>
<p>假定开发人员不会更改文件,此标志用于提高 not-changing 文件夹(如SDK)的性能。<br>git update-index –skip-worktree</p>
<p>用于命 GIT 不再染指特定文件,即便开发人员可能更改它<br>git update-index –assume-unchanged</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;很多时候我们会有一些本地化的代码修改操作，却并不想污染到代码仓库，有如下技巧&lt;/p&gt;
&lt;p&gt;.git/info/exclude文件中进行文件的跟踪忽略，效果同.gitignore&lt;/p&gt;
&lt;p&gt;假定开发人员不会更改文件,此标志用于提高 not-changing 文件夹(如SDK)的性能。&lt;br&gt;git update-index –skip-worktree&lt;/p&gt;
&lt;p&gt;用于命 GIT 不再染指特定文件,即便开发人员可能更改它&lt;br&gt;git update-index –assume-unchanged&lt;/p&gt;

    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>mysql配置远程访问</title>
    <link href="https://entimm.com/2017/06/13/mysql%E9%85%8D%E7%BD%AE%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE/"/>
    <id>https://entimm.com/2017/06/13/mysql配置远程访问/</id>
    <published>2017-06-13T02:21:25.000Z</published>
    <updated>2017-06-13T02:41:48.000Z</updated>
    
    <content type="html"><![CDATA[<p>建立远程访问用户<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">GRANT ALL PRIVILEGES ON *.* TO 'YOURUSER'@'%' IDENTIFIED BY 'YOURPASSWORD' WITH GRANT OPTION;</div><div class="line">FLUSH PRIVILEGES;</div><div class="line"></div><div class="line">#查看结果:</div><div class="line">SELECT * from information_schema.user_privileges where grantee like "'YOURUSER'%";</div></pre></td></tr></table></figure></p>
<p>配置my.cnf,通常是/etc/mysql/my.cnf，找到并注释掉下面语句</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">bind-address = 127.0.0.1 # 或者改成 bind-address = 0.0.0.0</div><div class="line"></div><div class="line">skip-networking</div></pre></td></tr></table></figure>
<p>重启服务器</p>
<h3 id="Bonus-Tip-Revoke-Access"><a href="#Bonus-Tip-Revoke-Access" class="headerlink" title="Bonus-Tip: Revoke Access"></a>Bonus-Tip: Revoke Access</h3><p>If you accidentally grant access to a user, then better have revoking option handy.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">#Following will revoke all options for THEUSER from all machines:</div><div class="line">REVOKE ALL PRIVILEGES, GRANT OPTION FROM 'THEUSER'@'%';</div><div class="line"></div><div class="line">#Following will revoke all options for THEUSER from particular IP:</div><div class="line">mysql&gt; REVOKE ALL PRIVILEGES, GRANT OPTION FROM 'THEUSER'@'1.2.3.4';</div></pre></td></tr></table></figure>
<p>Its better to check information_schema.user_privileges table after running REVOKE command.</p>
<p>If you see USAGE privilege after running REVOKE command, its fine. It is as good as no privilege at all. I am not sure if it can be revoked.</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;建立远程访问用户&lt;br&gt;&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;GRANT ALL PRIVILEGES ON *.* TO &#39;YOURUSER&#39;@&#39;%&#39; IDENTIFIED BY &#39;YOURPASSWORD&#39; WITH GRANT OPTION;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;FLUSH PRIVILEGES;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;#查看结果:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;SELECT * from information_schema.user_privileges where grantee like &quot;&#39;YOURUSER&#39;%&quot;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;配置my.cnf,通常是/etc/mysql/my.cnf，找到并注释掉下面语句&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;bind-address = 127.0.0.1 # 或者改成 bind-address = 0.0.0.0&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;skip-networking&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;重启服务器&lt;/p&gt;
&lt;h3 id=&quot;Bonus-Tip-Revoke-Access&quot;&gt;&lt;a href=&quot;#Bonus-Tip-Revoke-Access&quot; class=&quot;headerlink&quot; title=&quot;Bonus-Tip: Revoke Access&quot;&gt;&lt;/a&gt;Bonus-Tip: Revoke Access&lt;/h3&gt;&lt;p&gt;If you accidentally grant access to a user, then better have revoking option handy.&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;#Following will revoke all options for THEUSER from all machines:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;REVOKE ALL PRIVILEGES, GRANT OPTION FROM &#39;THEUSER&#39;@&#39;%&#39;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;#Following will revoke all options for THEUSER from particular IP:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;mysql&amp;gt; REVOKE ALL PRIVILEGES, GRANT OPTION FROM &#39;THEUSER&#39;@&#39;1.2.3.4&#39;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Its better to check information_schema.user_privileges table after running REVOKE command.&lt;/p&gt;
&lt;p&gt;If you see USAGE privilege after running REVOKE command, its fine. It is as good as no privilege at all. I am not sure if it can be revoked.&lt;/p&gt;

    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>那些概念</title>
    <link href="https://entimm.com/2017/05/18/%E9%82%A3%E4%BA%9B%E6%A6%82%E5%BF%B5/"/>
    <id>https://entimm.com/2017/05/18/那些概念/</id>
    <published>2017-05-18T15:43:36.000Z</published>
    <updated>2017-05-18T15:43:55.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="全局变量的缺点"><a href="#全局变量的缺点" class="headerlink" title="全局变量的缺点"></a>全局变量的缺点</h3><p>全局变量的优点是使用方便。 其缺点也是明显的，这里指针对两点说明</p>
<ul>
<li><p>不能保证值的正确性；因为其作用域是全局，所以程序范围内都可以修改它的值，如果出现错误非常难以发现。</p>
</li>
<li><p>如果在多线程中使用全局变量，你的程序将会错的一塌糊涂。多线程会修改另一个线程使用的全局变量的值，如果不注意，一旦出错后果不堪设想。所以在这种情况下万不得意不要使用全局变量。</p>
</li>
<li><p>增加了模块的偶合</p>
</li>
<li><p>全局变量保存在静态存贮区，程序开始运行时为其分配内存，程序结束释放该内存。与局部变量的动态分配、动态释放相比，生存期比较长，因此过多的全局变量会占用较多的内存单元。 </p>
</li>
<li><p>全局变量破坏了函数的封装性能。前面的章节曾经讲过，函数象一个黑匣子，一般是通过函数参数和返回值进行输入输出，函数内部实现相对独立。但函数中如果使用了全局变量，那么函数体内的语句就可以绕过函数参数和返回值进行存取，这种情况破坏了函数的独立性，使函数对全局变量产生依赖。同时，也降低了该函数的可移植性。</p>
</li>
<li><p>全局变量使函数的代码可读性降低。由于多个函数都可能使用全局变量，函数执行时全局变量的值可能随时发生变化，对于程序的查错和调试都非常不利。 </p>
</li>
</ul>
<h3 id="全局函数-静态方法"><a href="#全局函数-静态方法" class="headerlink" title="全局函数 静态方法"></a>全局函数 静态方法</h3><p>global method适合定义一种与任何对象无紧密联系的服务</p>
<p>static method适合定义与对象类型关系密切，但是与单一对象不十分密切的服务。</p>
<h3 id="函数副作用-amp-纯函数"><a href="#函数副作用-amp-纯函数" class="headerlink" title="函数副作用&amp;纯函数"></a>函数副作用&amp;纯函数</h3><p>在计算机科学中，函数副作用指当调用函数时，除了返回函数值之外，还对主调用函数产生附加的影响。例如修改全局变量（函数外的变量）或修改参数。</p>
<p>函数副作用会给程序设计带来不必要的麻烦，给程序带来十分难以查找的错误，并降低程序的可读性。严格的函数式语言要求函数必须无副作用。</p>
<p>如果一个函数通过隐式（Implicit）方式，从外界获取数据，或者向外部输出数据，那么，该函数就不是纯函数，叫作非纯函数（Impure Function）。</p>
<p>隐式（Implicit）的意思是，函数通过参数和返回值以外的渠道，和外界进行数据交换。比如，读取全局变量，修改全局变量，都叫作以隐式的方式和外界进行数据交换；比如，利用 I/O API（输入输出系统函数库）读取配置文件，或者输出到文件，打印到屏幕，都叫做隐式的方式和外界进行数据交换。</p>
<p>纯函数的定义也可以写为「没有副作用的函数」。</p>
<p>I/O API 可以看作是一种特殊的全局变量。文件、屏幕、数据库等输入输出结构可以看作是独立于运行环境之外的系统外全局变量，而不是应用程序自己定义的全局变量。</p>
<p>有些函数的参数是一种 In/Out 作用的参数，即函数可能改变参数里面的内容，把一些信息通过输入参数，夹带到外界。这种情况，严格来说，也是副作用。也是非纯函数。</p>
<p>纯函数的好处主要有几点：</p>
<p>无状态。线程安全。不需要线程同步。<br>纯函数相互调用组装起来的函数，还是纯函数。<br>应用程序或者运行环境（Runtime）可以对纯函数的运算结果进行缓存，运算加快速度。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;全局变量的缺点&quot;&gt;&lt;a href=&quot;#全局变量的缺点&quot; class=&quot;headerlink&quot; title=&quot;全局变量的缺点&quot;&gt;&lt;/a&gt;全局变量的缺点&lt;/h3&gt;&lt;p&gt;全局变量的优点是使用方便。 其缺点也是明显的，这里指针对两点说明&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;不能保证值的正确性；因为其作用域是全局，所以程序范围内都可以修改它的值，如果出现错误非常难以发现。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;如果在多线程中使用全局变量，你的程序将会错的一塌糊涂。多线程会修改另一个线程使用的全局变量的值，如果不注意，一旦出错后果不堪设想。所以在这种情况下万不得意不要使用全局变量。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;增加了模块的偶合&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;全局变量保存在静态存贮区，程序开始运行时为其分配内存，程序结束释放该内存。与局部变量的动态分配、动态释放相比，生存期比较长，因此过多的全局变量会占用较多的内存单元。 &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;全局变量破坏了函数的封装性能。前面的章节曾经讲过，函数象一个黑匣子，一般是通过函数参数和返回值进行输入输出，函数内部实现相对独立。但函数中如果使用了全局变量，那么函数体内的语句就可以绕过函数参数和返回值进行存取，这种情况破坏了函数的独立性，使函数对全局变量产生依赖。同时，也降低了该函数的可移植性。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;全局变量使函数的代码可读性降低。由于多个函数都可能使用全局变量，函数执行时全局变量的值可能随时发生变化，对于程序的查错和调试都非常不利。 &lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;全局函数-静态方法&quot;&gt;&lt;a href=&quot;#全局函数-静态方法&quot; class=&quot;headerlink&quot; title=&quot;全局函数 静态方法&quot;&gt;&lt;/a&gt;全局函数 静态方法&lt;/h3&gt;&lt;p&gt;global method适合定义一种与任何对象无紧密联系的服务&lt;/p&gt;
&lt;p&gt;static method适合定义与对象类型关系密切，但是与单一对象不十分密切的服务。&lt;/p&gt;
&lt;h3 id=&quot;函数副作用-amp-纯函数&quot;&gt;&lt;a href=&quot;#函数副作用-amp-纯函数&quot; class=&quot;headerlink&quot; title=&quot;函数副作用&amp;amp;纯函数&quot;&gt;&lt;/a&gt;函数副作用&amp;amp;纯函数&lt;/h3&gt;&lt;p&gt;在计算机科学中，函数副作用指当调用函数时，除了返回函数值之外，还对主调用函数产生附加的影响。例如修改全局变量（函数外的变量）或修改参数。&lt;/p&gt;
&lt;p&gt;函数副作用会给程序设计带来不必要的麻烦，给程序带来十分难以查找的错误，并降低程序的可读性。严格的函数式语言要求函数必须无副作用。&lt;/p&gt;
&lt;p&gt;如果一个函数通过隐式（Implicit）方式，从外界获取数据，或者向外部输出数据，那么，该函数就不是纯函数，叫作非纯函数（Impure Function）。&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>php中的异常与错误</title>
    <link href="https://entimm.com/2017/03/02/php%E4%B8%AD%E7%9A%84%E5%BC%82%E5%B8%B8%E4%B8%8E%E9%94%99%E8%AF%AF/"/>
    <id>https://entimm.com/2017/03/02/php中的异常与错误/</id>
    <published>2017-03-02T01:35:03.000Z</published>
    <updated>2017-06-14T08:46:21.000Z</updated>
    
    <content type="html"><![CDATA[<p>异常是指程序运行中不符合预期情况以及与正常流程不同的状况。错误则属于自身问题，是一种非法语法或者环境问题导致的、让编译器无法通过检查设置无法运行的情况。</p>
<p>php只有在你throw 一个异常后，才能用try…catch来捕获异常(一般情况下如此，也有部分异常可以自动捕获)。</p>
<p>历史原因导致php的异常处理是不足的，绝大多数情况下，无法自动抛出异常，必须使用if…else先进行判断，再手动抛出异常。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">customError</span><span class="params">($errno, $errstr, $errfile, $errline)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="comment">//自定义错误处理是，手动抛出异常</span></div><div class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="keyword">Exception</span>($errstr);</div><div class="line">&#125;</div><div class="line"></div><div class="line">set_error_handler(<span class="string">'customError'</span>, E_ALL | E_STRICT);</div><div class="line"></div><div class="line"><span class="keyword">try</span> &#123;</div><div class="line">    $a = <span class="number">5</span>/<span class="number">0</span>;</div><div class="line">&#125; <span class="keyword">catch</span> (<span class="keyword">Exception</span> $e) &#123;</div><div class="line">    <span class="keyword">echo</span> <span class="string">'错误信息:'</span>, $e-&gt;getMessage();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>fetal error这样的错误无法捕获，也无法在发生后恢复流程处理，但是可以使用register_shutdown_function()函数在程序终止或die时触发一个函数，给程序带来一个短暂的回光返照。在php4时，不支持析构函数，也常用于模拟实现析构函数。</p>
<p>Parse error级别的错误，除了修改ini文件，将错误信息写到日志中，什么也做不了。</p>
<p>无论是错误还是异常，都可以使用handler接管系统已有的处理机制。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;异常是指程序运行中不符合预期情况以及与正常流程不同的状况。错误则属于自身问题，是一种非法语法或者环境问题导致的、让编译器无法通过检查设置无法运行的情况。&lt;/p&gt;
&lt;p&gt;php只有在你throw 一个异常后，才能用try…catch来捕获异常(一般情况下如此，也有部分异常可以自动捕获)。&lt;/p&gt;
&lt;p&gt;历史原因导致php的异常处理是不足的，绝大多数情况下，无法自动抛出异常，必须使用if…else先进行判断，再手动抛出异常。&lt;/p&gt;
&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;customError&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;($errno, $errstr, $errfile, $errline)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//自定义错误处理是，手动抛出异常&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Exception&lt;/span&gt;($errstr);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;set_error_handler(&lt;span class=&quot;string&quot;&gt;&#39;customError&#39;&lt;/span&gt;, E_ALL | E_STRICT);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $a = &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;/&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;Exception&lt;/span&gt; $e) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;错误信息:&#39;&lt;/span&gt;, $e-&amp;gt;getMessage();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;fetal error这样的错误无法捕获，也无法在发生后恢复流程处理，但是可以使用register_shutdown_function()函数在程序终止或die时触发一个函数，给程序带来一个短暂的回光返照。在php4时，不支持析构函数，也常用于模拟实现析构函数。&lt;/p&gt;
&lt;p&gt;Parse error级别的错误，除了修改ini文件，将错误信息写到日志中，什么也做不了。&lt;/p&gt;
&lt;p&gt;无论是错误还是异常，都可以使用handler接管系统已有的处理机制。&lt;/p&gt;

    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>git 命令</title>
    <link href="https://entimm.com/2016/11/22/git%20%E5%91%BD%E4%BB%A4/"/>
    <id>https://entimm.com/2016/11/22/git 命令/</id>
    <published>2016-11-22T03:11:13.000Z</published>
    <updated>2017-06-16T03:26:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>删除远程分支<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span> As of Git v1.7.0, you can delete a remote branch using</div><div class="line">git push origin --delete &lt;branch_name&gt;</div><div class="line"><span class="meta">#</span> which is easier to remember than</div><div class="line">git push origin :&lt;branch_name&gt;</div></pre></td></tr></table></figure></p>
<p>git用得时间多了，会变慢。 那么可以用下面的命令优化一下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git gc   - Cleanup unnecessary files and optimize the local repository</div><div class="line">git-repack - Pack unpacked objects in a repository</div></pre></td></tr></table></figure></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">git push origin test:test    # 提交本地test分支作为远程的test分支</div><div class="line"></div><div class="line">git push --tags # 上传所有标签</div><div class="line"></div><div class="line">git remote set-url --push [name] [newUrl] # 修改远程仓库</div><div class="line">git pull [remoteName] [localBranchName]</div><div class="line">git push [remoteName] [localBranchName]</div><div class="line"></div><div class="line">git merge [name]   # 将名称为[name]的分支与当前分支合并</div><div class="line">git rebase [name]  #会将[name]分支的代码合并过来，并按照提交的顺序排序(衍合指定分支到分支到当前分支)</div><div class="line"></div><div class="line">git merge-base branchA branchB #查看2分支的公共节点</div><div class="line"></div><div class="line">git diff $(git-merge-base A B) B</div><div class="line"><span class="meta"></span></div><div class="line"># 按时间逆序列出提交对象，常用于查找涉及到某些文件的提交的hash。例如，查找所有关系到文件readme的提交</div><div class="line">git rev-list</div><div class="line"></div><div class="line">git shortlog</div><div class="line"><span class="meta"></span></div><div class="line"># 查看在branch上的，但不在master上的记录</div><div class="line">git log branch --not master</div><div class="line"></div><div class="line">git fsck --lost-found //检查丢失的提交</div><div class="line">git ls-files --stage //可以显示出索引的内容</div><div class="line">git checkout . //撤销所有修改</div><div class="line">git clean -xfd //连 gitignore 的untrack 文件/目录也一起删掉</div><div class="line">git branch --merged | xargs git branch -d //删除已经合并的分支</div><div class="line"></div><div class="line">git ls-files --other --ignored --exclude-stanard # list all ignored files in this project</div><div class="line">git reset --keep $COMMIT # reset and preserve uncommitted local changes</div><div class="line">git checkout --track $UPSTREAM/$REMOTE_BRANCH # create a new tracking branch based on a remote branch</div></pre></td></tr></table></figure>
<p>View a file in a different Git branch without changing branches<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">git checkout $REVISION -- $FILE</div><div class="line">git checkout $REVISION -- "*" switch all files without changing brnaches</div><div class="line">git show $REVISION:$FILE</div><div class="line">git checkout --orphan $BRANCH</div></pre></td></tr></table></figure></p>
<p>Make an existing Git branch track a remote branch<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">git branch -u $UPSTREAM/$REMOTE_BRANCH $LOCAL_BRANCH</div><div class="line">git branch --set-upstream-to=$UPSTREAM/$REMOTE_BRANCH</div><div class="line"></div><div class="line">git push -u $UPSTREAM $REMOTE_BRANCH</div><div class="line"></div><div class="line">git remote add $UPSTREAM &lt;remote-url&gt;</div><div class="line">git fetch $UPSTREAM</div><div class="line">git branch -f --track $LOCAL_BRANCH $UPSTREAM/$REMOTE_BRANCH</div><div class="line"><span class="meta">#</span> OR:</div><div class="line">git branch --set-upstream $LOCAL_BRANCH $UPSTREAM/$REMOTE_BRANCH</div></pre></td></tr></table></figure></p>
<p>diff changes only among certain file(s)<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">git diff $BRANCH1 $BRANCH2 -- $FILE1 $FILE2</div><div class="line">(branch1 is optional and your current branch (the branch you are on) will be considered by default if branch1 is not provided)</div><div class="line"></div><div class="line">git diff $REVISION $FILE</div></pre></td></tr></table></figure></p>
<p>other command<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">bisect     #Find by binary search the change that introduced a bug</div><div class="line">grep       #Print lines matching a pattern</div><div class="line">git log --since="two weeks ago" --until="two days ago"</div><div class="line">git log --since=four.days --until=two.days</div><div class="line">git instaweb</div><div class="line">git ls-tree #view git tree view</div><div class="line">git rm -rf . # Delete everything in the orphan branch</div><div class="line">git stash save --keep-index    # stash only unstaged files</div><div class="line">git merge --squash $BRANCH</div><div class="line">git rev-parse --abbrev-ref HEAD #判断当前分支</div></pre></td></tr></table></figure></p>
<p>列出当天某人的所有提交记录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git log --author=AUTHOR --oneline --since=&quot;6am&quot; --graph --all --decorate</div></pre></td></tr></table></figure></p>
<p>Find the nearest parent branch of the current git branch<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span>!/usr/bin/env zsh</div><div class="line">branch=`git rev-parse --abbrev-ref HEAD`</div><div class="line"></div><div class="line">git show-branch | ack '\*' | ack -v "$branch" | head -n1 | sed 's/.*\[\(.*\)\].*/\1/' | sed 's/[\^~].*//'`</div><div class="line"><span class="meta">#</span> How it works:</div><div class="line"><span class="meta">#</span> 1| Display a textual history of all commits.</div><div class="line"><span class="meta">#</span> 2| Ancestors of the current commit are indicated</div><div class="line"><span class="meta">#</span>    by a star. Filter out everything else.</div><div class="line"><span class="meta">#</span> 3| Ignore all the commits in the current branch.</div><div class="line"><span class="meta">#</span> 4| The first result will be the nearest ancestor branch.</div><div class="line"><span class="meta">#</span>    Ignore the other results.</div><div class="line"><span class="meta">#</span> 5| Branch names are displayed [in brackets]. Ignore </div><div class="line"><span class="meta">#</span>    everything outside the brackets, and the brackets.</div><div class="line"><span class="meta">#</span> 6| Sometimes the branch name will include a ~2 or ^1 to</div><div class="line"><span class="meta">#</span>    indicate how many commits are between the referenced</div><div class="line"><span class="meta">#</span>    commit and the branch tip. We don't care. Ignore them.</div></pre></td></tr></table></figure></p>
<p>or<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">branch=`git rev-parse --abbrev-ref HEAD`</div><div class="line">git show-branch -a 2&gt;/dev/null | grep '\*' | grep -v "$branch" | head -n1 | sed 's/.*\[\(.*\)\].*/\1/' | sed 's/[\^~].*//'</div></pre></td></tr></table></figure></p>
<p>“^”代表父提交,当一个提交有多个父提交时，可以通过在”^”后面跟上一个数字，表示第几个父提交，”^”相当于”^1”</p>
<p>checkout只会移动HEAD指针，reset会改变HEAD的引用值</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;删除远程分支&lt;br&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt; As of Git v1.7.0, you can delete a remote branch using&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git push origin --delete &amp;lt;branch_name&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt; which is easier to remember than&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git push origin :&amp;lt;branch_name&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;git用得时间多了，会变慢。 那么可以用下面的命令优化一下&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git gc   - Cleanup unnecessary files and optimize the local repository&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git-repack - Pack unpacked objects in a repository&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git push origin test:test    # 提交本地test分支作为远程的test分支&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git push --tags # 上传所有标签&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git remote set-url --push [name] [newUrl] # 修改远程仓库&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git pull [remoteName] [localBranchName]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git push [remoteName] [localBranchName]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git merge [name]   # 将名称为[name]的分支与当前分支合并&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git rebase [name]  #会将[name]分支的代码合并过来，并按照提交的顺序排序(衍合指定分支到分支到当前分支)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git merge-base branchA branchB #查看2分支的公共节点&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git diff $(git-merge-base A B) B&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# 按时间逆序列出提交对象，常用于查找涉及到某些文件的提交的hash。例如，查找所有关系到文件readme的提交&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git rev-list&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git shortlog&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# 查看在branch上的，但不在master上的记录&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git log branch --not master&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git fsck --lost-found //检查丢失的提交&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git ls-files --stage //可以显示出索引的内容&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git checkout . //撤销所有修改&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git clean -xfd //连 gitignore 的untrack 文件/目录也一起删掉&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git branch --merged | xargs git branch -d //删除已经合并的分支&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git ls-files --other --ignored --exclude-stanard # list all ignored files in this project&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git reset --keep $COMMIT # reset and preserve uncommitted local changes&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git checkout --track $UPSTREAM/$REMOTE_BRANCH # create a new tracking branch based on a remote branch&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;View a file in a different Git branch without changing branches&lt;br&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git checkout $REVISION -- $FILE&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git checkout $REVISION -- &quot;*&quot; switch all files without changing brnaches&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git show $REVISION:$FILE&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git checkout --orphan $BRANCH&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Make an existing Git branch track a remote branch&lt;br&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git branch -u $UPSTREAM/$REMOTE_BRANCH $LOCAL_BRANCH&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git branch --set-upstream-to=$UPSTREAM/$REMOTE_BRANCH&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git push -u $UPSTREAM $REMOTE_BRANCH&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git remote add $UPSTREAM &amp;lt;remote-url&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git fetch $UPSTREAM&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git branch -f --track $LOCAL_BRANCH $UPSTREAM/$REMOTE_BRANCH&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt; OR:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git branch --set-upstream $LOCAL_BRANCH $UPSTREAM/$REMOTE_BRANCH&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;diff changes only among certain file(s)&lt;br&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git diff $BRANCH1 $BRANCH2 -- $FILE1 $FILE2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;(branch1 is optional and your current branch (the branch you are on) will be considered by default if branch1 is not provided)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git diff $REVISION $FILE&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;other command&lt;br&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;bisect     #Find by binary search the change that introduced a bug&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;grep       #Print lines matching a pattern&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git log --since=&quot;two weeks ago&quot; --until=&quot;two days ago&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git log --since=four.days --until=two.days&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git instaweb&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git ls-tree #view git tree view&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git rm -rf . # Delete everything in the orphan branch&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git stash save --keep-index    # stash only unstaged files&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git merge --squash $BRANCH&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git rev-parse --abbrev-ref HEAD #判断当前分支&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;列出当天某人的所有提交记录&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git log --author=AUTHOR --oneline --since=&amp;quot;6am&amp;quot; --graph --all --decorate&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Find the nearest parent branch of the current git branch&lt;br&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt;!/usr/bin/env zsh&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;branch=`git rev-parse --abbrev-ref HEAD`&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git show-branch | ack &#39;\*&#39; | ack -v &quot;$branch&quot; | head -n1 | sed &#39;s/.*\[\(.*\)\].*/\1/&#39; | sed &#39;s/[\^~].*//&#39;`&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt; How it works:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt; 1| Display a textual history of all commits.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt; 2| Ancestors of the current commit are indicated&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt;    by a star. Filter out everything else.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt; 3| Ignore all the commits in the current branch.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt; 4| The first result will be the nearest ancestor branch.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt;    Ignore the other results.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt; 5| Branch names are displayed [in brackets]. Ignore &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt;    everything outside the brackets, and the brackets.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt; 6| Sometimes the branch name will include a ~2 or ^1 to&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt;    indicate how many commits are between the referenced&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt;    commit and the branch tip. We don&#39;t care. Ignore them.&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;or&lt;br&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;branch=`git rev-parse --abbrev-ref HEAD`&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git show-branch -a 2&amp;gt;/dev/null | grep &#39;\*&#39; | grep -v &quot;$branch&quot; | head -n1 | sed &#39;s/.*\[\(.*\)\].*/\1/&#39; | sed &#39;s/[\^~].*//&#39;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>iTerm2奇淫技巧</title>
    <link href="https://entimm.com/2016/10/25/iTerm2%E5%A5%87%E6%B7%AB%E6%8A%80%E5%B7%A7/"/>
    <id>https://entimm.com/2016/10/25/iTerm2奇淫技巧/</id>
    <published>2016-10-24T17:08:29.000Z</published>
    <updated>2017-05-18T15:28:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>control + a<br>回到行首。这个对于用过unix系统的童鞋来说再熟悉不过。</p>
<p>control + e<br>有了回到行首，当然不能错过光标回到行尾，写文章，打命令，这两个快捷键都是用的很频繁的。</p>
<p>control + w<br>删除之前一个单词。这个快捷键是我意外发现的，既然有删除之前一个单词，我觉得应该会有删除后面一个单词，但我至今没发现，如果你会请告诉我，重金打赏。</p>
<p>control + u<br>清除当前行。</p>
<p>control + p<br>上一条命令。</p>
<p>control + k<br>删除命令行文本到末尾。</p>
<p>control + l<br>清屏。</p>
<p>control + r<br>搜索命令历史。这个也是我经常用的快捷键，有时候你忘了正行命令，用这个命令很不错的，当然history | grep ** 会更有用些。</p>
<p>前一标签页<br><code>⌘</code> + <code>shift</code> + <code>Left</code></p>
<p>后一标签页<br><code>⌘</code> + <code>shift</code> + <code>Right</code></p>
<p>Go to Tab<br><code>⌘</code> + <code>Number</code></p>
<p>Go to Window<br><code>⌘</code> + <code>Option</code> + <code>Number</code></p>
<p>Go to Split Pane by Direction<br><code>⌘</code> + <code>Option</code> + <code>Arrow</code></p>
<p>Go to Split Pane by Order of Use<br><code>⌘</code> + <code>]</code> , <code>⌘</code> + <code>[</code></p>
<p>Undo<br><code>Ctrl</code> + <code>-</code></p>
<p><code>Ctrl</code> + <code>y</code><br><code>Ctrl</code> + <code>g</code></p>
<p>查看历史命令：command + ;<br>查看剪贴板历史：command + shift + h<br>搜索命令历史：ctrl + r</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;control + a&lt;br&gt;回到行首。这个对于用过unix系统的童鞋来说再熟悉不过。&lt;/p&gt;
&lt;p&gt;control + e&lt;br&gt;有了回到行首，当然不能错过光标回到行尾，写文章，打命令，这两个快捷键都是用的很频繁的。&lt;/p&gt;
&lt;p&gt;control + w&lt;br&gt;删除之前一个单词。这个快捷键是我意外发现的，既然有删除之前一个单词，我觉得应该会有删除后面一个单词，但我至今没发现，如果你会请告诉我，重金打赏。&lt;/p&gt;
&lt;p&gt;control + u&lt;br&gt;清除当前行。&lt;/p&gt;
&lt;p&gt;control + p&lt;br&gt;上一条命令。&lt;/p&gt;
&lt;p&gt;control + k&lt;br&gt;删除命令行文本到末尾。&lt;/p&gt;
&lt;p&gt;control + l&lt;br&gt;清屏。&lt;/p&gt;
&lt;p&gt;control + r&lt;br&gt;搜索命令历史。这个也是我经常用的快捷键，有时候你忘了正行命令，用这个命令很不错的，当然history | grep ** 会更有用些。&lt;/p&gt;
&lt;p&gt;前一标签页&lt;br&gt;&lt;code&gt;⌘&lt;/code&gt; + &lt;code&gt;shift&lt;/code&gt; + &lt;code&gt;Left&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;后一标签页&lt;br&gt;&lt;code&gt;⌘&lt;/code&gt; + &lt;code&gt;shift&lt;/code&gt; + &lt;code&gt;Right&lt;/code&gt;&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>配置linux服务器常用命令</title>
    <link href="https://entimm.com/2016/09/28/%E9%85%8D%E7%BD%AElinux%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <id>https://entimm.com/2016/09/28/配置linux服务器常用命令/</id>
    <published>2016-09-28T02:17:30.000Z</published>
    <updated>2017-05-18T16:14:52.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="安装lnmp"><a href="#安装lnmp" class="headerlink" title="安装lnmp"></a>安装lnmp</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">sudo LC_ALL=en_US.UTF-8 add-apt-repository ppa:ondrej/php</div><div class="line">sudo apt install -y language-pack-en-base</div><div class="line">locale-gen en_US.UTF-8</div><div class="line"></div><div class="line">sudo apt -y install php7.1</div><div class="line">sudo apt install -y php7.1-fpm php7.1-mysql php7.1-curl php7.1-xml php7.1-mcrypt php7.1-json php7.1-gd php7.1-mbstring</div><div class="line">sudo apt install mysql-server-5.7</div><div class="line">sudo apt install nginx</div><div class="line">sudo apt install redis-server php-redis</div></pre></td></tr></table></figure>
<h3 id="安装composer"><a href="#安装composer" class="headerlink" title="安装composer"></a>安装composer</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">php -r "copy('https://getcomposer.org/installer', 'composer-setup.php');"</div><div class="line">php -r "if (hash_file('SHA384', 'composer-setup.php') === 'e115a8dc7871f15d853148a7fbac7da27d6c0030b848d9b3dc09e2a0388afed865e6a3d6b3c0fad45c48e2b5fc1196ae') &#123; echo 'Installer verified'; &#125; else &#123; echo 'Installer corrupt'; unlink('composer-setup.php'); &#125; echo PHP_EOL;"\nphp composer-setup.php</div><div class="line">php -r "unlink('composer-setup.php');"</div></pre></td></tr></table></figure>
<h3 id="配置-www-www-data-用户权限"><a href="#配置-www-www-data-用户权限" class="headerlink" title="配置 www \ www-data 用户权限"></a>配置 www \ www-data 用户权限</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">sudo -Hu www-data ssh-keygen -t rsa -C "entimm@gmail.com"</div><div class="line">sudo chown -R www-data:www-data /var/www/</div><div class="line">sudo visudo</div><div class="line">sudo passwd www-data</div><div class="line">vim /etc/passwd</div></pre></td></tr></table></figure>
<h3 id="安装ohmyzsh"><a href="#安装ohmyzsh" class="headerlink" title="安装ohmyzsh"></a>安装ohmyzsh</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">apt install zsh</div><div class="line">sh -c "$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"</div></pre></td></tr></table></figure>
<h3 id="安装配置node环境"><a href="#安装配置node环境" class="headerlink" title="安装配置node环境"></a>安装配置node环境</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">curl --silent --location https://deb.nodesource.com/setup_4.x | bash -</div><div class="line">apt install -y nodejs</div><div class="line">npm install -g gulp</div><div class="line">npm install -g bower</div><div class="line">echo '\n#alias for cnpm\nalias cnpm="npm --registry=https://registry.npm.taobao.org \\n  --cache=$HOME/.npm/.cache/cnpm \\n  --disturl=https://npm.taobao.org/dist \\n  --userconfig=$HOME/.cnpmrc"' &gt;&gt; ~/.zshrc &amp;&amp; source ~/.zshrc</div></pre></td></tr></table></figure>
<h3 id="配置git"><a href="#配置git" class="headerlink" title="配置git"></a>配置git</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git config --global user.name entimm</div><div class="line">git config --global user.email entimm@gmial.com</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;安装lnmp&quot;&gt;&lt;a href=&quot;#安装lnmp&quot; class=&quot;headerlink&quot; title=&quot;安装lnmp&quot;&gt;&lt;/a&gt;安装lnmp&lt;/h3&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;sudo LC_ALL=en_US.UTF-8 add-apt-repository ppa:ondrej/php&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sudo apt install -y language-pack-en-base&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;locale-gen en_US.UTF-8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sudo apt -y install php7.1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sudo apt install -y php7.1-fpm php7.1-mysql php7.1-curl php7.1-xml php7.1-mcrypt php7.1-json php7.1-gd php7.1-mbstring&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sudo apt install mysql-server-5.7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sudo apt install nginx&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sudo apt install redis-server php-redis&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;安装composer&quot;&gt;&lt;a href=&quot;#安装composer&quot; class=&quot;headerlink&quot; title=&quot;安装composer&quot;&gt;&lt;/a&gt;安装composer&lt;/h3&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;php -r &quot;copy(&#39;https://getcomposer.org/installer&#39;, &#39;composer-setup.php&#39;);&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;php -r &quot;if (hash_file(&#39;SHA384&#39;, &#39;composer-setup.php&#39;) === &#39;e115a8dc7871f15d853148a7fbac7da27d6c0030b848d9b3dc09e2a0388afed865e6a3d6b3c0fad45c48e2b5fc1196ae&#39;) &amp;#123; echo &#39;Installer verified&#39;; &amp;#125; else &amp;#123; echo &#39;Installer corrupt&#39;; unlink(&#39;composer-setup.php&#39;); &amp;#125; echo PHP_EOL;&quot;\nphp composer-setup.php&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;php -r &quot;unlink(&#39;composer-setup.php&#39;);&quot;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;配置-www-www-data-用户权限&quot;&gt;&lt;a href=&quot;#配置-www-www-data-用户权限&quot; class=&quot;headerlink&quot; title=&quot;配置 www \ www-data 用户权限&quot;&gt;&lt;/a&gt;配置 www \ www-data 用户权限&lt;/h3&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;sudo -Hu www-data ssh-keygen -t rsa -C &quot;entimm@gmail.com&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sudo chown -R www-data:www-data /var/www/&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sudo visudo&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sudo passwd www-data&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;vim /etc/passwd&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;安装ohmyzsh&quot;&gt;&lt;a href=&quot;#安装ohmyzsh&quot; class=&quot;headerlink&quot; title=&quot;安装ohmyzsh&quot;&gt;&lt;/a&gt;安装ohmyzsh&lt;/h3&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;apt install zsh&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sh -c &quot;$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;安装配置node环境&quot;&gt;&lt;a href=&quot;#安装配置node环境&quot; class=&quot;headerlink&quot; title=&quot;安装配置node环境&quot;&gt;&lt;/a&gt;安装配置node环境&lt;/h3&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;curl --silent --location https://deb.nodesource.com/setup_4.x | bash -&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;apt install -y nodejs&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;npm install -g gulp&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;npm install -g bower&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;echo &#39;\n#alias for cnpm\nalias cnpm=&quot;npm --registry=https://registry.npm.taobao.org \\n  --cache=$HOME/.npm/.cache/cnpm \\n  --disturl=https://npm.taobao.org/dist \\n  --userconfig=$HOME/.cnpmrc&quot;&#39; &amp;gt;&amp;gt; ~/.zshrc &amp;amp;&amp;amp; source ~/.zshrc&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>shell</title>
    <link href="https://entimm.com/2016/09/24/shell/"/>
    <id>https://entimm.com/2016/09/24/shell/</id>
    <published>2016-09-24T01:30:30.000Z</published>
    <updated>2017-05-18T16:11:31.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="shell-中的判断"><a href="#shell-中的判断" class="headerlink" title="shell 中的判断"></a>shell 中的判断</h2><ol>
<li>字符串判断</li>
</ol>
<p>str1 = str2　　　　 当两个串有相同内容、长度时为真<br>str1 != str2　　　　当串str1和str2不等时为真<br>-n str1　　　　　　　当串的长度大于0时为真(串非空)<br>-z str1　　　　　　  当串的长度为0时为真(空串)<br>str1　　　　　　　　  当串str1为非空时为真</p>
<ol>
<li>数字的判断</li>
</ol>
<p>int1 -eq int2　　　　两数相等为真<br>int1 -ne int2　　　　两数不等为真<br>int1 -gt int2　　　　int1大于int2为真<br>int1 -ge int2　　　　int1大于等于int2为真<br>int1 -lt int2　　　　int1小于int2为真<br>int1 -le int2　　　　int1小于等于int2为真</p>
<p>-n “$var” 判断一个变量是否有值</p>
<p>3 文件的判断</p>
<p>-r file　　　　　用户可读为真<br>-w file　　　　　用户可写为真<br>-x file　　　　　用户可执行为真<br>-f file　　　　　文件为正规文件为真<br>-d file　　　　　文件为目录为真<br>-c file　　　　　文件为字符特殊文件为真<br>-b file　　　　　文件为块特殊文件为真<br>-s file　　　　　文件大小非0时为真<br>-t file　　　　　当文件描述符(默认为1)指定的设备为终端时为真</p>
<p>3、复杂逻辑判断</p>
<p>-a 　 　　　　　  与<br>-o　　　　　　　   或<br> !　　　　　　　　 非</p>
<h2 id="tip"><a href="#tip" class="headerlink" title="tip"></a>tip</h2><p>$0  当前脚本的文件名<br>$n  传递给脚本或函数的参数。n 是一个数字，表示第几个参数。例如，第一个参数是$1，第二个参数是$2。<br>$#  传递给脚本或函数的参数个数。<br>$<em>  传递给脚本或函数的所有参数。<br>$@  传递给脚本或函数的所有参数。被双引号(“ “)包含时，与 $</em> 稍有不同，下面将会讲到。<br>$?  上个命令的退出状态，或函数的返回值。<br>$$  当前Shell进程ID。对于 Shell 脚本，就是这些脚本所在的进程ID。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;shell-中的判断&quot;&gt;&lt;a href=&quot;#shell-中的判断&quot; class=&quot;headerlink&quot; title=&quot;shell 中的判断&quot;&gt;&lt;/a&gt;shell 中的判断&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;字符串判断&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;str1 = str2　　　　 当两个串有相同内容、长度时为真&lt;br&gt;str1 != str2　　　　当串str1和str2不等时为真&lt;br&gt;-n str1　　　　　　　当串的长度大于0时为真(串非空)&lt;br&gt;-z str1　　　　　　  当串的长度为0时为真(空串)&lt;br&gt;str1　　　　　　　　  当串str1为非空时为真&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;数字的判断&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;int1 -eq int2　　　　两数相等为真&lt;br&gt;int1 -ne int2　　　　两数不等为真&lt;br&gt;int1 -gt int2　　　　int1大于int2为真&lt;br&gt;int1 -ge int2　　　　int1大于等于int2为真&lt;br&gt;int1 -lt int2　　　　int1小于int2为真&lt;br&gt;int1 -le int2　　　　int1小于等于int2为真&lt;/p&gt;
&lt;p&gt;-n “$var” 判断一个变量是否有值&lt;/p&gt;
&lt;p&gt;3 文件的判断&lt;/p&gt;
&lt;p&gt;-r file　　　　　用户可读为真&lt;br&gt;-w file　　　　　用户可写为真&lt;br&gt;-x file　　　　　用户可执行为真&lt;br&gt;-f file　　　　　文件为正规文件为真&lt;br&gt;-d file　　　　　文件为目录为真&lt;br&gt;-c file　　　　　文件为字符特殊文件为真&lt;br&gt;-b file　　　　　文件为块特殊文件为真&lt;br&gt;-s file　　　　　文件大小非0时为真&lt;br&gt;-t file　　　　　当文件描述符(默认为1)指定的设备为终端时为真&lt;/p&gt;
&lt;p&gt;3、复杂逻辑判断&lt;/p&gt;
&lt;p&gt;-a 　 　　　　　  与&lt;br&gt;-o　　　　　　　   或&lt;br&gt; !　　　　　　　　 非&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ssh保持链接</title>
    <link href="https://entimm.com/2016/09/23/ssh%E4%BF%9D%E6%8C%81%E9%93%BE%E6%8E%A5/"/>
    <id>https://entimm.com/2016/09/23/ssh保持链接/</id>
    <published>2016-09-23T08:08:33.000Z</published>
    <updated>2017-05-18T15:26:08.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Client-configuration"><a href="#Client-configuration" class="headerlink" title="Client configuration"></a>Client configuration</h2><p>Try creating the file: ~/.ssh/config<br>Add the contents:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Host *</div><div class="line">  ServerAliveInterval 30</div><div class="line">  ServerAliveCountMax 5</div></pre></td></tr></table></figure></p>
<h2 id="Server-configuration"><a href="#Server-configuration" class="headerlink" title="Server configuration"></a>Server configuration</h2><p>Edit configuration file: /etc/ssh/sshd_config<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ClientAliveInterval 20</div><div class="line">ClientAliveCountMax 5</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Client-configuration&quot;&gt;&lt;a href=&quot;#Client-configuration&quot; class=&quot;headerlink&quot; title=&quot;Client configuration&quot;&gt;&lt;/a&gt;Client configuration&lt;/h2&gt;&lt;p&gt;Try creating the file: ~/.ssh/config&lt;br&gt;Add the contents:&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Host *&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  ServerAliveInterval 30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  ServerAliveCountMax 5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;Server-configuration&quot;&gt;&lt;a href=&quot;#Server-configuration&quot; class=&quot;headerlink&quot; title=&quot;Server configuration&quot;&gt;&lt;/a&gt;Server configuration&lt;/h2&gt;&lt;p&gt;Edit configuration file: /etc/ssh/sshd_config&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;ClientAliveInterval 20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;ClientAliveCountMax 5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;

    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>快速搭建vpn</title>
    <link href="https://entimm.com/2016/09/22/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BAvpn/"/>
    <id>https://entimm.com/2016/09/22/快速搭建vpn/</id>
    <published>2016-09-22T07:33:41.000Z</published>
    <updated>2017-05-18T15:36:05.000Z</updated>
    
    <content type="html"><![CDATA[<p>VPS端一键安装Shadowsocks (SS Python版一键安装脚本支持CentOS 6，7，Debian所有版本，Ubuntu所有版本)，<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">wget --no-check-certificate https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks.sh</div><div class="line">chmod +x shadowsocks.sh</div><div class="line">./shadowsocks.sh 2&gt;&amp;1 | tee shadowsocks.log</div></pre></td></tr></table></figure></p>
<p>中间会提示输入SS SERVER使用的端口和连接密码。不输入则是系统默认.</p>
<p>安装完成后，脚本提示如下(记得记录下来)：<br>Congratulations, shadowsocks install completed!<br>Your Server IP:your_server_ip<br>Your Server Port:your_server_port<br>Your Password:your_password<br>Your Local IP:127.0.0.1<br>Your Local Port:1080<br>Your Encryption Method:aes-256-cfb</p>
<p>看到以上提示后就表明VPS上SS已经安装成功，并且已经设置了开机启动，VPS重启后不用手工启动SS。<br>到此就安装成功可以科学上网了</p>
<p>卸载方法：<br>使用root用户登录，运行以下命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./shadowsocks.sh uninstall</div></pre></td></tr></table></figure></p>
<p>单用户配置文件 Sample：<br>配置文件路径：/etc/shadowsocks.json<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    &quot;server&quot;:&quot;0.0.0.0&quot;,</div><div class="line">    &quot;server_port&quot;:8989,</div><div class="line">    &quot;local_address&quot;:&quot;127.0.0.1&quot;,</div><div class="line">    &quot;local_port&quot;:1080,</div><div class="line">    &quot;password&quot;:&quot;yourpassword&quot;,</div><div class="line">    &quot;timeout&quot;:300,</div><div class="line">    &quot;method&quot;:&quot;aes-256-cfb&quot;,</div><div class="line">    &quot;fast_open&quot;: false</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>多用户多端口配置文件 Sample：<br>配置文件路径：/etc/shadowsocks.json<br>```<br>{<br>    “server”:”0.0.0.0”,<br>    “local_address”:”127.0.0.1”,<br>    “local_port”:1080,<br>    “port_password”:{<br>         “8989”:”password0”,<br>         “9001”:”password1”,<br>         “9002”:”password2”,<br>         “9003”:”password3”,<br>         “9004”:”password4”<br>    },<br>    “timeout”:300,<br>    “method”:”aes-256-cfb”,<br>    “fast_open”: false<br>}</p>
<p>使用命令：<br>启动：/etc/init.d/shadowsocks start<br>停止：/etc/init.d/shadowsocks stop<br>重启：/etc/init.d/shadowsocks restart<br>状态：/etc/init.d/shadowsocks status</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;VPS端一键安装Shadowsocks (SS Python版一键安装脚本支持CentOS 6，7，Debian所有版本，Ubuntu所有版本)，&lt;br&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;wget --no-check-certificate https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks.sh&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;chmod +x shadowsocks.sh&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;./shadowsocks.sh 2&amp;gt;&amp;amp;1 | tee shadowsocks.log&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;中间会提示输入SS SERVER使用的端口和连接密码。不输入则是系统默认.&lt;/p&gt;
&lt;p&gt;安装完成后，脚本提示如下(记得记录下来)：&lt;br&gt;Congratulations, shadowsocks install completed!&lt;br&gt;Your Server IP:your_server_ip&lt;br&gt;Your Server Port:your_server_port&lt;br&gt;Your Password:your_password&lt;br&gt;Your Local IP:127.0.0.1&lt;br&gt;Your Local Port:1080&lt;br&gt;Your Encryption Method:aes-256-cfb&lt;/p&gt;
&lt;p&gt;看到以上提示后就表明VPS上SS已经安装成功，并且已经设置了开机启动，VPS重启后不用手工启动SS。&lt;br&gt;到此就安装成功可以科学上网了&lt;/p&gt;
&lt;p&gt;卸载方法：&lt;br&gt;使用root用户登录，运行以下命令：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;./shadowsocks.sh uninstall&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;单用户配置文件 Sample：&lt;br&gt;配置文件路径：/etc/shadowsocks.json&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;quot;server&amp;quot;:&amp;quot;0.0.0.0&amp;quot;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;quot;server_port&amp;quot;:8989,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;quot;local_address&amp;quot;:&amp;quot;127.0.0.1&amp;quot;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;quot;local_port&amp;quot;:1080,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;quot;password&amp;quot;:&amp;quot;yourpassword&amp;quot;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;quot;timeout&amp;quot;:300,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;quot;method&amp;quot;:&amp;quot;aes-256-cfb&amp;quot;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;quot;fast_open&amp;quot;: false&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;多用户多端口配置文件 Sample：&lt;br&gt;配置文件路径：/etc/shadowsocks.json&lt;br&gt;```&lt;br&gt;{&lt;br&gt;    “server”:”0.0.0.0”,&lt;br&gt;    “local_address”:”127.0.0.1”,&lt;br&gt;    “local_port”:1080,&lt;br&gt;    “port_password”:{&lt;br&gt;         “8989”:”password0”,&lt;br&gt;         “9001”:”password1”,&lt;br&gt;         “9002”:”password2”,&lt;br&gt;         “9003”:”password3”,&lt;br&gt;         “9004”:”password4”&lt;br&gt;    },&lt;br&gt;    “timeout”:300,&lt;br&gt;    “method”:”aes-256-cfb”,&lt;br&gt;    “fast_open”: false&lt;br&gt;}&lt;/p&gt;
&lt;p&gt;使用命令：&lt;br&gt;启动：/etc/init.d/shadowsocks start&lt;br&gt;停止：/etc/init.d/shadowsocks stop&lt;br&gt;重启：/etc/init.d/shadowsocks restart&lt;br&gt;状态：/etc/init.d/shadowsocks status&lt;/p&gt;

    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>那些配置</title>
    <link href="https://entimm.com/2016/09/22/%E9%82%A3%E4%BA%9B%E9%85%8D%E7%BD%AE/"/>
    <id>https://entimm.com/2016/09/22/那些配置/</id>
    <published>2016-09-22T02:34:46.000Z</published>
    <updated>2017-05-18T16:37:08.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="phpstorm-外部工具"><a href="#phpstorm-外部工具" class="headerlink" title="phpstorm 外部工具"></a>phpstorm 外部工具</h3><p>Open Project With Subline<br>subl<br>$ProjectFileDir$<br>$ProjectFileDir$</p>
<p>Open File With Sublime<br>subl<br>$FilePath$:$LineNumber$<br>$ProjectFileDir$</p>
<p>PHP CS Fixer<br>/usr/local/bin/php-cs-fixer<br>–level=psr2 –verbose fix $FileDir$/$FileName$<br>$ProjectFileDir$</p>
<h3 id="从连接中使用subl打开所连接文件"><a href="#从连接中使用subl打开所连接文件" class="headerlink" title="从连接中使用subl打开所连接文件"></a>从连接中使用subl打开所连接文件</h3><p><a href="https://github.com/dhoulb/subl.git" target="_blank" rel="external">https://github.com/dhoulb/subl.git</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;phpstorm-外部工具&quot;&gt;&lt;a href=&quot;#phpstorm-外部工具&quot; class=&quot;headerlink&quot; title=&quot;phpstorm 外部工具&quot;&gt;&lt;/a&gt;phpstorm 外部工具&lt;/h3&gt;&lt;p&gt;Open Project With Subline&lt;br&gt;subl&lt;br&gt;$ProjectFileDir$&lt;br&gt;$ProjectFileDir$&lt;/p&gt;
&lt;p&gt;Open File With Sublime&lt;br&gt;subl&lt;br&gt;$FilePath$:$LineNumber$&lt;br&gt;$ProjectFileDir$&lt;/p&gt;
&lt;p&gt;PHP CS Fixer&lt;br&gt;/usr/local/bin/php-cs-fixer&lt;br&gt;–level=psr2 –verbose fix $FileDir$/$FileName$&lt;br&gt;$ProjectFileDir$&lt;/p&gt;
&lt;h3 id=&quot;从连接中使用subl打开所连接文件&quot;&gt;&lt;a href=&quot;#从连接中使用subl打开所连接文件&quot; class=&quot;headerlink&quot; title=&quot;从连接中使用subl打开所连接文件&quot;&gt;&lt;/a&gt;从连接中使用subl打开所连接文件&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/dhoulb/subl.git&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/dhoulb/subl.git&lt;/a&gt;&lt;/p&gt;

    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>接替app端的请求</title>
    <link href="https://entimm.com/2016/09/22/%E6%8E%A5%E6%9B%BFapp%E7%AB%AF%E7%9A%84%E8%AF%B7%E6%B1%82/"/>
    <id>https://entimm.com/2016/09/22/接替app端的请求/</id>
    <published>2016-09-22T02:17:18.000Z</published>
    <updated>2017-05-18T16:28:55.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="电脑安装抓包工具-使用charles-fiddler"><a href="#电脑安装抓包工具-使用charles-fiddler" class="headerlink" title="电脑安装抓包工具(使用charles/fiddler)"></a>电脑安装抓包工具(使用charles/fiddler)</h3><h3 id="同个局域网内，配手机代理，让手机的请求统统都要经过你的电脑"><a href="#同个局域网内，配手机代理，让手机的请求统统都要经过你的电脑" class="headerlink" title="同个局域网内，配手机代理，让手机的请求统统都要经过你的电脑"></a>同个局域网内，配手机代理，让手机的请求统统都要经过你的电脑</h3><h3 id="改电脑的hosts"><a href="#改电脑的hosts" class="headerlink" title="改电脑的hosts"></a>改电脑的hosts</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">192.168.0.100 test.api.entimm.com</div><div class="line"># 反向代理用的</div><div class="line">127.0.0.1 api.entimm.com</div></pre></td></tr></table></figure>
<h3 id="最后上nginx的反向代理"><a href="#最后上nginx的反向代理" class="headerlink" title="最后上nginx的反向代理"></a>最后上nginx的反向代理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">server &#123;</div><div class="line"></div><div class="line">    listen 80;</div><div class="line">    listen [::]:80;</div><div class="line"></div><div class="line">    server_name api.entimm.com;</div><div class="line"></div><div class="line">    location / &#123;</div><div class="line">        proxy_pass http://test.api.entimm.com;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="搞定！"><a href="#搞定！" class="headerlink" title="搞定！"></a>搞定！</h3>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;电脑安装抓包工具-使用charles-fiddler&quot;&gt;&lt;a href=&quot;#电脑安装抓包工具-使用charles-fiddler&quot; class=&quot;headerlink&quot; title=&quot;电脑安装抓包工具(使用charles/fiddler)&quot;&gt;&lt;/a&gt;电脑安装抓包工具(使用charles/fiddler)&lt;/h3&gt;&lt;h3 id=&quot;同个局域网内，配手机代理，让手机的请求统统都要经过你的电脑&quot;&gt;&lt;a href=&quot;#同个局域网内，配手机代理，让手机的请求统统都要经过你的电脑&quot; class=&quot;headerlink&quot; title=&quot;同个局域网内，配手机代理，让手机的请求统统都要经过你的电脑&quot;&gt;&lt;/a&gt;同个局域网内，配手机代理，让手机的请求统统都要经过你的电脑&lt;/h3&gt;&lt;h3 id=&quot;改电脑的hosts&quot;&gt;&lt;a href=&quot;#改电脑的hosts&quot; class=&quot;headerlink&quot; title=&quot;改电脑的hosts&quot;&gt;&lt;/a&gt;改电脑的hosts&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;192.168.0.100 test.api.entimm.com&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# 反向代理用的&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;127.0.0.1 api.entimm.com&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;最后上nginx的反向代理&quot;&gt;&lt;a href=&quot;#最后上nginx的反向代理&quot; class=&quot;headerlink&quot; title=&quot;最后上nginx的反向代理&quot;&gt;&lt;/a&gt;最后上nginx的反向代理&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;server &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    listen 80;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    listen [::]:80;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    server_name api.entimm.com;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    location / &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        proxy_pass http://test.api.entimm.com;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;搞定！&quot;&gt;&lt;a href=&quot;#搞定！&quot; class=&quot;headerlink&quot; title=&quot;搞定！&quot;&gt;&lt;/a&gt;搞定！&lt;/h3&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>快速搭建服务器</title>
    <link href="https://entimm.com/2016/09/22/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    <id>https://entimm.com/2016/09/22/快速搭建服务器/</id>
    <published>2016-09-22T01:45:00.000Z</published>
    <updated>2017-05-18T15:54:44.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="下载-deploy-sh-脚本"><a href="#下载-deploy-sh-脚本" class="headerlink" title="下载 deploy.sh 脚本"></a>下载 deploy.sh 脚本</h3><p>14.04安装脚本<br>wget <a href="https://raw.githubusercontent.com/summerblue/laravel-ubuntu-init/master/deploy.sh" target="_blank" rel="external">https://raw.githubusercontent.com/summerblue/laravel-ubuntu-init/master/deploy.sh</a></p>
<p>16.04安装脚本<br>wget <a href="https://raw.githubusercontent.com/summerblue/laravel-ubuntu-init/master/deploy-16.sh" target="_blank" rel="external">https://raw.githubusercontent.com/summerblue/laravel-ubuntu-init/master/deploy-16.sh</a></p>
<h3 id="设置-MYSQL-密码"><a href="#设置-MYSQL-密码" class="headerlink" title="设置 MYSQL 密码"></a>设置 MYSQL 密码</h3><p>vi deploy.sh:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># Configure</div><div class="line">MYSQL_ROOT_PASSWORD=&quot;&quot;</div><div class="line">MYSQL_NORMAL_USER=&quot;estuser&quot;</div><div class="line">MYSQL_NORMAL_USER_PASSWORD=&quot;&quot;</div></pre></td></tr></table></figure></p>
<h3 id="开始安装"><a href="#开始安装" class="headerlink" title="开始安装"></a>开始安装</h3><p>有需要的话可以使用网易镜像加速：<br>wget <a href="http://mirrors.163.com/.help/sources.list.trusty" target="_blank" rel="external">http://mirrors.163.com/.help/sources.list.trusty</a> -O /etc/apt/sources.list</p>
<p>运行脚本:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">chmod +x deploy.sh</div><div class="line">./deploy.sh</div></pre></td></tr></table></figure></p>
<p>注：请使用 root 运行。</p>
<h3 id="安装完以后的配置和注意事项"><a href="#安装完以后的配置和注意事项" class="headerlink" title="安装完以后的配置和注意事项"></a>安装完以后的配置和注意事项</h3><h4 id="修改站点目录权限"><a href="#修改站点目录权限" class="headerlink" title="修改站点目录权限"></a>修改站点目录权限</h4><p>通过此脚本配置的 Nginx 将使用 www 用户权限，因此需要在你的站点根目录下运行以下命令更新权限。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd /var/www/</div><div class="line">chown www:www -R ./</div></pre></td></tr></table></figure></p>
<h4 id="添加站点的-Nginx-配置"><a href="#添加站点的-Nginx-配置" class="headerlink" title="添加站点的 Nginx 配置"></a>添加站点的 Nginx 配置</h4><p>下面是站点的 Nginx 配置模板，写入按照域名命名的文件中，并放入到 /etc/nginx/sites-enabled 目录下。<br>如：/etc/nginx/sites-enabled/phphub.org<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">server &#123;</div><div class="line">    listen 80;</div><div class="line">    server_name YOU-DOMAIN-NAME;</div><div class="line">    root YOU-PROJECT-FOLDER;</div><div class="line"></div><div class="line">    index index.php index.html index.htm;</div><div class="line"></div><div class="line">    charset utf-8;</div><div class="line"></div><div class="line">    location / &#123;</div><div class="line">        try_files $uri $uri/ /index.php?$query_string;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    location = /favicon.ico &#123; access_log off; log_not_found off; &#125;</div><div class="line">    location = /robots.txt  &#123; access_log off; log_not_found off; &#125;</div><div class="line"></div><div class="line">    access_log /data/log/nginx/YOU-PROJECT-NAME-access.log;</div><div class="line">    error_log  /data/log/nginx/YOU-PROJECT-NAME-error.log error;</div><div class="line"></div><div class="line">    sendfile off;</div><div class="line"></div><div class="line">    client_max_body_size 100m;</div><div class="line"></div><div class="line">    include fastcgi.conf;</div><div class="line"></div><div class="line">    location ~ /\.ht &#123;</div><div class="line">        deny all;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    location ~ \.php$ &#123;</div><div class="line">        fastcgi_pass   127.0.0.1:9000;</div><div class="line">        #fastcgi_pass /run/php/php7.0-fpm.sock;</div><div class="line">        fastcgi_index  index.php;</div><div class="line">        fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;</div><div class="line">        include        fastcgi_params;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>或者直接修改default<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div></pre></td><td class="code"><pre><div class="line">##</div><div class="line"># You should look at the following URL&apos;s in order to grasp a solid understanding</div><div class="line"># of Nginx configuration files in order to fully unleash the power of Nginx.</div><div class="line"># http://wiki.nginx.org/Pitfalls</div><div class="line"># http://wiki.nginx.org/QuickStart</div><div class="line"># http://wiki.nginx.org/Configuration</div><div class="line">#</div><div class="line"># Generally, you will want to move this file somewhere, and start with a clean</div><div class="line"># file but keep this around for reference. Or just disable in sites-enabled.</div><div class="line">#</div><div class="line"># Please see /usr/share/doc/nginx-doc/examples/ for more detailed examples.</div><div class="line">##</div><div class="line"></div><div class="line"># Default server configuration</div><div class="line">#</div><div class="line">server &#123;</div><div class="line">    listen 80 default_server;</div><div class="line">    listen [::]:80 default_server;</div><div class="line"></div><div class="line">    # SSL configuration</div><div class="line">    #</div><div class="line">    # listen 443 ssl default_server;</div><div class="line">    # listen [::]:443 ssl default_server;</div><div class="line">    #</div><div class="line">    # Note: You should disable gzip for SSL traffic.</div><div class="line">    # See: https://bugs.debian.org/773332</div><div class="line">    #</div><div class="line">    # Read up on ssl_ciphers to ensure a secure configuration.</div><div class="line">    # See: https://bugs.debian.org/765782</div><div class="line">    #</div><div class="line">    # Self signed certs generated by the ssl-cert package</div><div class="line">    # Don&apos;t use them in a production server!</div><div class="line">    #</div><div class="line">    # include snippets/snakeoil.conf;</div><div class="line"></div><div class="line">    root /var/www/html;</div><div class="line"></div><div class="line">    # Add index.php to the list if you are using PHP</div><div class="line">    index index.php index.html index.htm;</div><div class="line"></div><div class="line">    server_name _;</div><div class="line"></div><div class="line">    charset utf-8;</div><div class="line"></div><div class="line">    location / &#123;</div><div class="line">        # First attempt to serve request as file, then</div><div class="line">        # as directory, then fall back to displaying a 404.</div><div class="line">        try_files $uri $uri/ =404;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    location = /favicon.ico &#123; access_log off; log_not_found off; &#125;</div><div class="line">    location = /robots.txt  &#123; access_log off; log_not_found off; &#125;</div><div class="line"></div><div class="line">    access_log /var/log/nginx/default.access.log;</div><div class="line">    error_log  /var/log/nginx/default.error.log error;</div><div class="line"></div><div class="line">    sendfile off;</div><div class="line"></div><div class="line">    client_max_body_size 100m;</div><div class="line"></div><div class="line">    include fastcgi.conf;</div><div class="line"></div><div class="line">    # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</div><div class="line">    #</div><div class="line">    location ~ \.php$ &#123;</div><div class="line">    #   include snippets/fastcgi-php.conf;</div><div class="line">    #</div><div class="line">    #   # With php7.0-cgi alone:</div><div class="line">        fastcgi_pass 127.0.0.1:9000;</div><div class="line">    #   # With php7.0-fpm:</div><div class="line">    #   fastcgi_pass unix:/var/run/php7.0-fpm.sock;</div><div class="line">        fastcgi_index  index.php;</div><div class="line">        fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;</div><div class="line">        include        fastcgi_params;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    # deny access to .htaccess files, if Apache&apos;s document root</div><div class="line">    # concurs with nginx&apos;s one</div><div class="line">    #</div><div class="line">    location ~ /\.ht &#123;</div><div class="line">        deny all;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"># Virtual Host configuration for example.com</div><div class="line">#</div><div class="line"># You can move that to a different file under sites-available/ and symlink that</div><div class="line"># to sites-enabled/ to enable it.</div><div class="line">#</div><div class="line">#server &#123;</div><div class="line">#   listen 80;</div><div class="line">#   listen [::]:80;</div><div class="line">#</div><div class="line">#   server_name example.com;</div><div class="line">#</div><div class="line">#   root /var/www/example.com;</div><div class="line">#   index index.html;</div><div class="line">#</div><div class="line">#   location / &#123;</div><div class="line">#       try_files $uri $uri/ =404;</div><div class="line">#   &#125;</div><div class="line">#&#125;</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;下载-deploy-sh-脚本&quot;&gt;&lt;a href=&quot;#下载-deploy-sh-脚本&quot; class=&quot;headerlink&quot; title=&quot;下载 deploy.sh 脚本&quot;&gt;&lt;/a&gt;下载 deploy.sh 脚本&lt;/h3&gt;&lt;p&gt;14.04安装脚本&lt;br&gt;wget &lt;a href=&quot;https://raw.githubusercontent.com/summerblue/laravel-ubuntu-init/master/deploy.sh&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://raw.githubusercontent.com/summerblue/laravel-ubuntu-init/master/deploy.sh&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;16.04安装脚本&lt;br&gt;wget &lt;a href=&quot;https://raw.githubusercontent.com/summerblue/laravel-ubuntu-init/master/deploy-16.sh&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://raw.githubusercontent.com/summerblue/laravel-ubuntu-init/master/deploy-16.sh&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;设置-MYSQL-密码&quot;&gt;&lt;a href=&quot;#设置-MYSQL-密码&quot; class=&quot;headerlink&quot; title=&quot;设置 MYSQL 密码&quot;&gt;&lt;/a&gt;设置 MYSQL 密码&lt;/h3&gt;&lt;p&gt;vi deploy.sh:&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;# Configure&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;MYSQL_ROOT_PASSWORD=&amp;quot;&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;MYSQL_NORMAL_USER=&amp;quot;estuser&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;MYSQL_NORMAL_USER_PASSWORD=&amp;quot;&amp;quot;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;开始安装&quot;&gt;&lt;a href=&quot;#开始安装&quot; class=&quot;headerlink&quot; title=&quot;开始安装&quot;&gt;&lt;/a&gt;开始安装&lt;/h3&gt;&lt;p&gt;有需要的话可以使用网易镜像加速：&lt;br&gt;wget &lt;a href=&quot;http://mirrors.163.com/.help/sources.list.trusty&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://mirrors.163.com/.help/sources.list.trusty&lt;/a&gt; -O /etc/apt/sources.list&lt;/p&gt;
&lt;p&gt;运行脚本:&lt;br&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;chmod +x deploy.sh&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;./deploy.sh&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;注：请使用 root 运行。&lt;/p&gt;
&lt;h3 id=&quot;安装完以后的配置和注意事项&quot;&gt;&lt;a href=&quot;#安装完以后的配置和注意事项&quot; class=&quot;headerlink&quot; title=&quot;安装完以后的配置和注意事项&quot;&gt;&lt;/a&gt;安装完以后的配置和注意事项&lt;/h3&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>php tips</title>
    <link href="https://entimm.com/2016/09/19/php-tip/"/>
    <id>https://entimm.com/2016/09/19/php-tip/</id>
    <published>2016-09-18T23:44:51.000Z</published>
    <updated>2017-05-18T16:13:12.000Z</updated>
    
    <content type="html"><![CDATA[<ul>
<li><p>explode 分割字符可以不是单字符</p>
</li>
<li><p>强制类型转换的值不论是否有定义，转换后都会有值</p>
</li>
<li><p>E_ALL ^ E_NOTICE 和 E_ALL &amp; ~E_NOTICE 是等效的</p>
</li>
<li><p>无论是函数调用还是文件包含，像 <strong>FILE</strong> 这种变量，他写在哪个文件，那么他的值就在哪个文件，而不受调用者影响</p>
</li>
<li><p>静态变量是在编译时解析的，不能跟表达式，比如：static $int = sqrt(121)</p>
</li>
<li><p>子类重载父类的属性和方法时，可见性不能比父类小</p>
</li>
<li><p>自 PHP 5.4 起可用 callable 类型指定回调类型 callback</p>
<ol>
<li><p>一个 PHP 的函数以 string 类型传递其名称。可以使用任何内置或用户自定义函数，但除了语言结构例如：array()，echo，empty()，eval()，exit()，isset()，list()，print 或 unset()</p>
</li>
<li><p>一个已实例化的对象的方法被作为数组传递，下标 0 包含该对象，下标 1 包含方法名</p>
</li>
<li><p>静态类方法也可不经实例化该类的对象而传递，只要在下标 0 中包含类名而不是对象。自 PHP 5.2.3 起，也可以传递 ‘ClassName::methodName’</p>
</li>
<li><p>也可传递 closure 给回调参数</p>
</li>
</ol>
</li>
<li><p>对浮点数，数字字符串，纯字母都能进行自增/减运算，对其他类型的值进行自增/减运算不会产生什么效果</p>
</li>
<li><p>call_user_func_array 如果回调函数默认设置需要接受的参数是引用传递的时候，按值传递，结果将会输出一个警告, 这时数组参数中的参数需要按引用传递</p>
</li>
<li><p>call_user_func 如果回调函数默认设置需要接受的参数是引用传递的时候,无论怎样传参都无法满足</p>
</li>
<li><p>常量<strong>NAMESPACE</strong>的值是包含当前命名空间名称的字符串。在全局的，不包括在任何命名空间中的代码，它包含一个空的字符串</p>
</li>
<li>关键字 namespace 可用来显式访问当前命名空间或子命名空间中的元素。它等价于类中的 self 操作符</li>
<li><p>命名空间不会因为被包含而影响其在包含文件中的使用方式</p>
</li>
<li><p>mysqli::real_escape_string 相比 addslashes 会针对真实数据库环境的字符集做出更好的处理，但是必须在建立数据库链接的基础上</p>
</li>
<li><p>字符串类型变量可以直接当做一个数组，通过数字下面来访问字符串中的字符或者是通过 str_split 函数把字符串分割成单字符数组</p>
</li>
</ul>
<h3 id="那些有趣的代码片段"><a href="#那些有趣的代码片段" class="headerlink" title="那些有趣的代码片段"></a>那些有趣的代码片段</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">multi</span> <span class="params">($a, $b)</span> </span>&#123;</div><div class="line">    $b = is_array($b) ? $b : array_slice(func_get_args(), <span class="number">1</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">incr</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">static</span> $count = <span class="number">0</span>;</div><div class="line"></div><div class="line">    $count++;</div><div class="line">    <span class="keyword">echo</span> $count;</div><div class="line">    <span class="keyword">if</span> ($count &lt; <span class="number">10</span>) &#123;</div><div class="line">        incr();</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">echo</span> $count;</div><div class="line">    $count--;</div><div class="line">&#125;</div><div class="line">incr();</div><div class="line"><span class="comment">// 结果输出：1234567891010987654321</span></div></pre></td></tr></table></figure>
<p>不使用临时变量，交换2数的数值<br>下面三种方法不能对自身进行交换<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 不仅对数字有效，对字符串也是有效的</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">swap1</span><span class="params">(&amp;$x, &amp;$y)</span></span></div><div class="line">&#123;</div><div class="line">    $x = $x ^ $y;</div><div class="line">    $y = $x ^ $y;</div><div class="line">    $x = $x ^ $y;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 当心越界</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">swap2</span><span class="params">(&amp;$x, &amp;$y)</span></span></div><div class="line">&#123;</div><div class="line">    $x = $x + $y;</div><div class="line">    $y = $x - $y;</div><div class="line">    $x = $x - $y;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 当心越界、第二个数不能为0</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">swap3</span><span class="params">(&amp;$x, &amp;$y)</span></span></div><div class="line">&#123;</div><div class="line">    $x = $x * $y;</div><div class="line">    $y = $x / $y;</div><div class="line">    $x = $x / $y;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>命名空间<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">namespace</span> <span class="title">Myns</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></div><div class="line">&#123;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// ok</span></div><div class="line"><span class="keyword">new</span> <span class="keyword">namespace</span>\<span class="title">Test</span>;</div><div class="line"></div><div class="line"><span class="comment">// ok</span></div><div class="line"><span class="keyword">new</span> Test;</div><div class="line"></div><div class="line"><span class="comment">// ok</span></div><div class="line">$a =  <span class="keyword">__NAMESPACE__</span> . <span class="string">'\Test'</span>;</div><div class="line"><span class="keyword">new</span> $a;</div><div class="line"></div><div class="line"><span class="comment">// ok</span></div><div class="line">$a =  <span class="string">'Myns\Test'</span>;</div><div class="line"><span class="keyword">new</span> $a;</div><div class="line"></div><div class="line"><span class="comment">// failed,  Class 'Myns\Myns\Test' not found</span></div><div class="line"><span class="keyword">new</span> Myns\Test;</div></pre></td></tr></table></figure></p>
<p>这样的自增运算<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">$i1 = <span class="number">0</span>;</div><div class="line">$i2 = <span class="number">0</span>;</div><div class="line">$a= ++$i1 + ++$i1 + ++$i1;</div><div class="line">$b= $i2++ + $i2++ + $i2++;</div><div class="line"><span class="keyword">echo</span> $a;</div><div class="line"><span class="keyword">echo</span> PHP_EOL;</div><div class="line"><span class="keyword">echo</span> $b;</div><div class="line"><span class="comment">// result:</span></div><div class="line"><span class="comment">// 6</span></div><div class="line"><span class="comment">// 3</span></div></pre></td></tr></table></figure></p>
<h3 id="安全两个原则"><a href="#安全两个原则" class="headerlink" title="安全两个原则"></a>安全两个原则</h3><ol>
<li>永远不要相信用户输入的东西。</li>
<li>将自己需要输出的数据进行转义。</li>
</ol>
<h3 id="对象的另一种理解"><a href="#对象的另一种理解" class="headerlink" title="对象的另一种理解"></a>对象的另一种理解</h3><p>对象”是一个容器，封装了“属性”（property）和“方法”（method）</p>
<p>所谓“属性”，就是对象的状态；所谓“方法”，就是对象的行为（完成某种任务）。比如，我们可以把动物抽象为animal对象，“属性”记录具体是那一种动物，“方法”表示动物的某种行为（奔跑、捕猎、休息等等）</p>
<h3 id="isset-vs-array-key-exist"><a href="#isset-vs-array-key-exist" class="headerlink" title="isset vs array_key_exist"></a>isset vs array_key_exist</h3><p>最准确的array_key_exists的效率确是最差，而empty和isset的效率相差无几</p>
<p>如果数组不可能出现值为NULL的情况，建议使用isset<br>如果数组中经常出现值为NULL的情况，建议使用array_key_exists<br>如果数组中可能出现值为NULL，但是较少的情况，建议结合isset与array_key_exists使用，如“if (isset($arr[‘key’]) || array_key_exists(‘key’, $arr)){/<em>do somthing</em>/}”。此方法兼顾了性能和准确性，但是代码变长了。</p>
<h3 id="is-null"><a href="#is-null" class="headerlink" title="is_null"></a>is_null</h3><p>null不区分大小写：$a = null; $a = NULL 没有任何区别<br>仅在变量的值为“null”时，检测结果才为true，0、空字符串、false、空数组都检测为false<br>变量未初始化时，程序将会报错</p>
<p>isset 主要用来判断变量是否被初始化过<br>empty 可以将值为 “假”、“空”、“0”、“NULL”、“未初始化” 的变量都判断为TRUE<br>is_null 仅把值为 “NULL” 的变量判断为TRUE</p>
<h3 id="print-vs-echo"><a href="#print-vs-echo" class="headerlink" title="print vs echo"></a>print vs echo</h3><p>echo和print的区别php中echo和print的功能基本相同（输出），但是两者之间还是有细微差别的。echo输出后没有返回值，但print有返回值，当其执行失败时返回flase。因此可以作为一个普通函数来使用<br>例如执行下面的代码后变量$r的值将为1。<br>代码：</p>
<p>$r = print “Hello World”;</p>
<p>这意味着print可用在一些复杂的表达式中，而echo则不行。但是，因为echo语句不要求返回任何数值，所已在代码中echo语句的运行效率要略微快于print语句。</p>
<h3 id="include-vs-require"><a href="#include-vs-require" class="headerlink" title="include vs require"></a>include vs require</h3><p>include()与require()的功能也基本相同（包含），但在用法上也有一些不同，include()是有条件包含函数，而require()则是无条件包含函数。例如在下面代码中，如果变量$a为真，则将包含文件a.php：<br>代码：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> ($a) &#123; </div><div class="line">    <span class="keyword">include</span>(<span class="string">"a.php"</span>); </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>而require()则和include()不同，不管$a取何值，下面的代码将把文件a.php包含进文件里：<br>代码：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> ($a) &#123; </div><div class="line">    <span class="keyword">require</span>(<span class="string">"a.php"</span>); </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="if-args-与-if-empty-args-的区别"><a href="#if-args-与-if-empty-args-的区别" class="headerlink" title="if($args) 与 if(!empty($args)) 的区别"></a>if($args) 与 if(!empty($args)) 的区别</h3><p>第一种方法在$args未定义的情况下会出现警告，在PHP中出现任何Error都会造成不小的性能损失，这主要是因PHP存在错误处理机制造成的。</p>
<p>第二种方法下empty能够处理未定义的参数，可以避免警告。另外empty是指令而非函数，运行效率并不会比第一种慢太多。</p>
<p>简而言之，如果你能保证$args已经定义，大可使用第一种。如果不行，则建议使用第二种。</p>
<h3 id="关于垃圾回收及composer"><a href="#关于垃圾回收及composer" class="headerlink" title="关于垃圾回收及composer"></a>关于垃圾回收及composer</h3><p>(重要资料)[<a href="http://cn2.php.net/manual/zh/features.gc.php" target="_blank" rel="external">http://cn2.php.net/manual/zh/features.gc.php</a>]</p>
<p>gc_disable() 不是完全关闭 gc ，而是关闭检查循环引用计数。</p>
<p>检查循环引用计数是因为 php 的 gc 是基于引用计数，在 php 5.2 及以前循环引用会导致内存泄漏。</p>
<p>composer 的这个地方是在进行依赖包检查，对于安装了大量包的项目来说，这是比较耗时、耗内存的操作，并且这部分代码（依据设计/依据提交者的看法）无需考虑循环引用计数问题。</p>
<p>composer在运行的时候会创建大量的对象，这些对象会触发GC机制，而这些对象需要被使用，所以GC无法清除，因此，使用gc_disable禁用GC之后，会节省cpu时间，效率更高。因为占用内存太大，并且频繁触发 gc ，导致效率降低。</p>
<p>由于PHP的GC是基于引用计数的，为了能够回收循环引用的对象，会在ref count减少但不到0的时候，试图检测并回收循环引用的孤岛对象，但当有效对象的数量及互相引用较大（比如composer中代表包、版本和互相的依赖关系）的时候，这种搜索的开销就会变得非常巨大，造成大量的CPU计算</p>
<h2 id="关于引用传递"><a href="#关于引用传递" class="headerlink" title="关于引用传递"></a>关于引用传递</h2><p>一般在输出参数有多个的时候可以考虑使用引用</p>
<h2 id="php中的’0’和javascript中的’0’"><a href="#php中的’0’和javascript中的’0’" class="headerlink" title="php中的’0’和javascript中的’0’"></a>php中的’0’和javascript中的’0’</h2><p>在php和js中转化布尔类型,php中被转换为false,而js中却是true</p>
<h2 id="strrev"><a href="#strrev" class="headerlink" title="strrev"></a>strrev</h2><p>只能翻转英文</p>
<h2 id="strlen-与mb-strlen"><a href="#strlen-与mb-strlen" class="headerlink" title="strlen()与mb_strlen()"></a>strlen()与mb_strlen()</h2><p>strlen 计算字符串的字节长度<br>mb_strlen 根据编码计算字符串字符的长度</p>
<p>gbk 中  一个中文字符2个字节<br>utf8中  一个中文字符3个字节</p>
<h2 id="变量的8种类型"><a href="#变量的8种类型" class="headerlink" title="变量的8种类型"></a>变量的8种类型</h2><p>整型 浮点型 字符串 布尔型 数组 对象 资源 null</p>
<h2 id="关于时间复杂度"><a href="#关于时间复杂度" class="headerlink" title="关于时间复杂度"></a>关于时间复杂度</h2><p>PHP的时间复杂度还得算上php的自身函数所占用的时间复杂度</p>
]]></content>
    
    <summary type="html">
    
      &lt;ul&gt;
&lt;li&gt;&lt;p&gt;explode 分割字符可以不是单字符&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;强制类型转换的值不论是否有定义，转换后都会有值&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;E_ALL ^ E_NOTICE 和 E_ALL &amp;amp; ~E_NOTICE 是等效的&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;无论是函数调用还是文件包含，像 &lt;strong&gt;FILE&lt;/strong&gt; 这种变量，他写在哪个文件，那么他的值就在哪个文件，而不受调用者影响&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;静态变量是在编译时解析的，不能跟表达式，比如：static $int = sqrt(121)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;子类重载父类的属性和方法时，可见性不能比父类小&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;自 PHP 5.4 起可用 callable 类型指定回调类型 callback&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;一个 PHP 的函数以 string 类型传递其名称。可以使用任何内置或用户自定义函数，但除了语言结构例如：array()，echo，empty()，eval()，exit()，isset()，list()，print 或 unset()&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;一个已实例化的对象的方法被作为数组传递，下标 0 包含该对象，下标 1 包含方法名&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;静态类方法也可不经实例化该类的对象而传递，只要在下标 0 中包含类名而不是对象。自 PHP 5.2.3 起，也可以传递 ‘ClassName::methodName’&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;也可传递 closure 给回调参数&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;对浮点数，数字字符串，纯字母都能进行自增/减运算，对其他类型的值进行自增/减运算不会产生什么效果&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;call_user_func_array 如果回调函数默认设置需要接受的参数是引用传递的时候，按值传递，结果将会输出一个警告, 这时数组参数中的参数需要按引用传递&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;call_user_func 如果回调函数默认设置需要接受的参数是引用传递的时候,无论怎样传参都无法满足&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;常量&lt;strong&gt;NAMESPACE&lt;/strong&gt;的值是包含当前命名空间名称的字符串。在全局的，不包括在任何命名空间中的代码，它包含一个空的字符串&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;关键字 namespace 可用来显式访问当前命名空间或子命名空间中的元素。它等价于类中的 self 操作符&lt;/li&gt;
&lt;li&gt;&lt;p&gt;命名空间不会因为被包含而影响其在包含文件中的使用方式&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;mysqli::real_escape_string 相比 addslashes 会针对真实数据库环境的字符集做出更好的处理，但是必须在建立数据库链接的基础上&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;字符串类型变量可以直接当做一个数组，通过数字下面来访问字符串中的字符或者是通过 str_split 函数把字符串分割成单字符数组&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;那些有趣的代码片段&quot;&gt;&lt;a href=&quot;#那些有趣的代码片段&quot; class=&quot;headerlink&quot; title=&quot;那些有趣的代码片段&quot;&gt;&lt;/a&gt;那些有趣的代码片段&lt;/h3&gt;&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;multi&lt;/span&gt; &lt;span class=&quot;params&quot;&gt;($a, $b)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $b = is_array($b) ? $b : array_slice(func_get_args(), &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;incr&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; $count = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $count++;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; $count;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ($count &amp;lt; &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        incr();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; $count;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $count--;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;incr();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 结果输出：1234567891010987654321&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;不使用临时变量，交换2数的数值&lt;br&gt;下面三种方法不能对自身进行交换&lt;br&gt;&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 不仅对数字有效，对字符串也是有效的&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;swap1&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&amp;amp;$x, &amp;amp;$y)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $x = $x ^ $y;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $y = $x ^ $y;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $x = $x ^ $y;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 当心越界&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;swap2&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&amp;amp;$x, &amp;amp;$y)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $x = $x + $y;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $y = $x - $y;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $x = $x - $y;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 当心越界、第二个数不能为0&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;swap3&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&amp;amp;$x, &amp;amp;$y)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $x = $x * $y;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $y = $x / $y;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $x = $x / $y;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;命名空间&lt;br&gt;&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Myns&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Test&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ok&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;namespace&lt;/span&gt;\&lt;span class=&quot;title&quot;&gt;Test&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ok&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Test;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ok&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$a =  &lt;span class=&quot;keyword&quot;&gt;__NAMESPACE__&lt;/span&gt; . &lt;span class=&quot;string&quot;&gt;&#39;\Test&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; $a;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ok&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$a =  &lt;span class=&quot;string&quot;&gt;&#39;Myns\Test&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; $a;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// failed,  Class &#39;Myns\Myns\Test&#39; not found&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Myns\Test;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这样的自增运算&lt;br&gt;&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?php&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$i1 = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$i2 = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$a= ++$i1 + ++$i1 + ++$i1;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$b= $i2++ + $i2++ + $i2++;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; $a;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; PHP_EOL;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; $b;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// result:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 6&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 3&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;安全两个原则&quot;&gt;&lt;a href=&quot;#安全两个原则&quot; class=&quot;headerlink&quot; title=&quot;安全两个原则&quot;&gt;&lt;/a&gt;安全两个原则&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;永远不要相信用户输入的东西。&lt;/li&gt;
&lt;li&gt;将自己需要输出的数据进行转义。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;对象的另一种理解&quot;&gt;&lt;a href=&quot;#对象的另一种理解&quot; class=&quot;headerlink&quot; title=&quot;对象的另一种理解&quot;&gt;&lt;/a&gt;对象的另一种理解&lt;/h3&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>tmux使用</title>
    <link href="https://entimm.com/2016/09/19/tmux/"/>
    <id>https://entimm.com/2016/09/19/tmux/</id>
    <published>2016-09-18T23:41:25.000Z</published>
    <updated>2017-05-18T16:22:53.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h3><p><code>&lt;prefix&gt;$</code>可以重命名当前Session<br><code>&lt;prefix&gt;c</code>可以创建新的窗口（Window）<br><code>&lt;prefix&gt;%</code>水平分割窗口（形成两个Pane）<br><code>&lt;prefix&gt;&quot;</code>垂直分割窗口。退出当前Session的快捷键是<code>&lt;prefix&gt;d</code></p>
<p>在Bash中可以查看当前的tmux服务中有哪些Session：<code>tmux ls</code><br>根据Session的名字可以再回去：<code>tmux a -t myname  (or at, or attach)</code></p>
<h3 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h3><p>默认的<code>&lt;prefix&gt;</code>是<code>Ctrl+b</code>，如果觉得不好按可以调整为<code>Ctrl+a</code>，只需要在配置文件~/.tmux.conf中加入：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">unbind ^b</div><div class="line">set -g prefix &apos;C-a&apos;</div></pre></td></tr></table></figure></p>
<p>为了能让Tmux动态载入配置而不是重启，我们设一个快捷键<prefix>r来重新载入配置：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bind r source-file ~/.tmux.conf \; display-message &quot;Config reloaded&quot;</div></pre></td></tr></table></figure></prefix></p>
<p>当前tmux的设置，可通过tmux show -g</p>
<h3 id="窗格切换"><a href="#窗格切换" class="headerlink" title="窗格切换"></a>窗格切换</h3><p>可以把hjkl设置为切换窗格的快捷键：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">bind h select-pane -L</div><div class="line">bind j select-pane -D</div><div class="line">bind k select-pane -U</div><div class="line">bind l select-pane -R</div></pre></td></tr></table></figure></p>
<p>再给调整窗格大小设置快捷键：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">bind L resize-pane -L 10  # 向左扩展</div><div class="line">bind R resize-pane -R 10  # 向右扩展</div><div class="line">bind K resize-pane -U 5   # 向上扩展</div><div class="line">bind J resize-pane -D 5   # 向下扩展</div></pre></td></tr></table></figure></p>
<p>我们发现当打开新窗格时Shell仍然在Home目录，可以设置为当前目录：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">bind &apos;&quot;&apos; split-window -c &apos;#&#123;pane_current_path&#125;&apos;</div><div class="line">bind &apos;%&apos; split-window -h -c &apos;#&#123;pane_current_path&#125;&apos;</div></pre></td></tr></table></figure></p>
<h3 id="拷贝"><a href="#拷贝" class="headerlink" title="拷贝"></a>拷贝</h3><p>在Tmux中通过[进入拷贝模式，按下<code>&lt;space&gt;</code>开始拷贝。然后用Vim/Emacs快捷键选择文本，按下<enter>拷贝所选内容。然后通过]进行粘贴</enter></p>
<p>上述所有快捷键中，只有[和]需要先按下<code>&lt;prefix&gt;</code>。<br>我们可以让上述拷贝快捷键符合Vi风格：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">bind Escape copy-mode</div><div class="line">bind -t vi-copy v begin-selection</div><div class="line">bind -t vi-copy y copy-selection</div><div class="line">unbind p</div><div class="line">bind p pasteb</div><div class="line">setw -g mode-keys vi      # Vi风格选择文本</div></pre></td></tr></table></figure></p>
<p>这样，按下<code>&lt;Escape&gt;</code>进入拷贝模式，v进行选择，y拷贝所选内容，p进行粘贴。</p>
<h3 id="鼠标切换窗格"><a href="#鼠标切换窗格" class="headerlink" title="鼠标切换窗格"></a>鼠标切换窗格</h3><p>Tmux和Vim风格非常像，也可以设置鼠标模式。下面的设置开启了所有鼠标功能： 通过点击选择窗格，通过拖动更改窗格大小，通过鼠标选择窗口，还可以通过鼠标选择复制区域。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">setw -g mode-mouse on</div><div class="line">set -g mouse-select-pane on</div><div class="line">set -g mouse-resize-pane on</div><div class="line">set -g mouse-select-window on</div></pre></td></tr></table></figure></p>
<h3 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h3><p>Sessions<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">:new&lt;CR&gt; new session</div><div class="line">s  list sessions</div><div class="line">$  name session</div></pre></td></tr></table></figure></p>
<p>:new -s <session-name> 可以指定新Session的名字。</session-name></p>
<p>Windows (tabs)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">c  create window</div><div class="line">w  list windows</div><div class="line">n  next window</div><div class="line">p  previous window</div><div class="line">f  find window</div><div class="line">,  name window</div><div class="line">&amp;  kill window</div></pre></td></tr></table></figure></p>
<p>Panes (splits)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">%  vertical split</div><div class="line">&quot;  horizontal split</div><div class="line"></div><div class="line">o  swap panes</div><div class="line">q  show pane numbers</div><div class="line">x  kill pane</div><div class="line">+  break pane into window (e.g. to select text by mouse to copy)</div><div class="line">-  restore pane from window</div><div class="line">⍽  space - toggle between layouts</div><div class="line">&lt;prefix&gt; q (Show pane numbers, when the numbers show up type the key to goto that pane)</div><div class="line">&lt;prefix&gt; &#123; (Move the current pane left)</div><div class="line">&lt;prefix&gt; &#125; (Move the current pane right)</div><div class="line">&lt;prefix&gt; z toggle pane zoom</div></pre></td></tr></table></figure></p>
<p>Misc<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">d  detach</div><div class="line">t  big clock</div><div class="line">?  list shortcuts</div><div class="line">:  prompt</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;基本使用&quot;&gt;&lt;a href=&quot;#基本使用&quot; class=&quot;headerlink&quot; title=&quot;基本使用&quot;&gt;&lt;/a&gt;基本使用&lt;/h3&gt;&lt;p&gt;&lt;code&gt;&amp;lt;prefix&amp;gt;$&lt;/code&gt;可以重命名当前Session&lt;br&gt;&lt;code&gt;&amp;lt;prefix&amp;gt;c&lt;/code&gt;可以创建新的窗口（Window）&lt;br&gt;&lt;code&gt;&amp;lt;prefix&amp;gt;%&lt;/code&gt;水平分割窗口（形成两个Pane）&lt;br&gt;&lt;code&gt;&amp;lt;prefix&amp;gt;&amp;quot;&lt;/code&gt;垂直分割窗口。退出当前Session的快捷键是&lt;code&gt;&amp;lt;prefix&amp;gt;d&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;在Bash中可以查看当前的tmux服务中有哪些Session：&lt;code&gt;tmux ls&lt;/code&gt;&lt;br&gt;根据Session的名字可以再回去：&lt;code&gt;tmux a -t myname  (or at, or attach)&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&quot;基本配置&quot;&gt;&lt;a href=&quot;#基本配置&quot; class=&quot;headerlink&quot; title=&quot;基本配置&quot;&gt;&lt;/a&gt;基本配置&lt;/h3&gt;&lt;p&gt;默认的&lt;code&gt;&amp;lt;prefix&amp;gt;&lt;/code&gt;是&lt;code&gt;Ctrl+b&lt;/code&gt;，如果觉得不好按可以调整为&lt;code&gt;Ctrl+a&lt;/code&gt;，只需要在配置文件~/.tmux.conf中加入：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;unbind ^b&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;set -g prefix &amp;apos;C-a&amp;apos;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;为了能让Tmux动态载入配置而不是重启，我们设一个快捷键&lt;prefix&gt;r来重新载入配置：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;bind r source-file ~/.tmux.conf \; display-message &amp;quot;Config reloaded&amp;quot;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/prefix&gt;&lt;/p&gt;
&lt;p&gt;当前tmux的设置，可通过tmux show -g&lt;/p&gt;
&lt;h3 id=&quot;窗格切换&quot;&gt;&lt;a href=&quot;#窗格切换&quot; class=&quot;headerlink&quot; title=&quot;窗格切换&quot;&gt;&lt;/a&gt;窗格切换&lt;/h3&gt;&lt;p&gt;可以把hjkl设置为切换窗格的快捷键：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;bind h select-pane -L&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;bind j select-pane -D&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;bind k select-pane -U&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;bind l select-pane -R&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;再给调整窗格大小设置快捷键：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;bind L resize-pane -L 10  # 向左扩展&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;bind R resize-pane -R 10  # 向右扩展&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;bind K resize-pane -U 5   # 向上扩展&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;bind J resize-pane -D 5   # 向下扩展&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>php中的坑</title>
    <link href="https://entimm.com/2016/09/18/php%E4%B8%AD%E7%9A%84%E5%9D%91/"/>
    <id>https://entimm.com/2016/09/18/php中的坑/</id>
    <published>2016-09-18T15:25:11.000Z</published>
    <updated>2017-05-18T16:23:15.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="路径的坑"><a href="#路径的坑" class="headerlink" title="路径的坑"></a>路径的坑</h3><p>$path = ‘/a/m/../b’;<br>假如 /a 存在<br>不管 /a/m 目录存不存在, mkdir 都能成功<br>但是如果不存在，那么 is_dir, realpath 等函数都会失败</p>
<h3 id="计算的坑"><a href="#计算的坑" class="headerlink" title="计算的坑"></a>计算的坑</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$a = <span class="number">5.1</span>;</div><div class="line">$b = <span class="number">5.1</span>;</div><div class="line">$size = <span class="number">100</span>;</div><div class="line">$t1 = intval($a = floatval($a) * $size);</div><div class="line">$t2 = intval($b = floatval($b) * $size);</div><div class="line">$t = rand($t1, $t2);</div><div class="line"><span class="keyword">echo</span> $t; <span class="comment">// 计算结果是509，而不是510</span></div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;路径的坑&quot;&gt;&lt;a href=&quot;#路径的坑&quot; class=&quot;headerlink&quot; title=&quot;路径的坑&quot;&gt;&lt;/a&gt;路径的坑&lt;/h3&gt;&lt;p&gt;$path = ‘/a/m/../b’;&lt;br&gt;假如 /a 存在&lt;br&gt;不管 /a/m 目录存不存在, mkdir 都能成功&lt;br&gt;但是如果不存在，那么 is_dir, realpath 等函数都会失败&lt;/p&gt;
&lt;h3 id=&quot;计算的坑&quot;&gt;&lt;a href=&quot;#计算的坑&quot; class=&quot;headerlink&quot; title=&quot;计算的坑&quot;&gt;&lt;/a&gt;计算的坑&lt;/h3&gt;&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$a = &lt;span class=&quot;number&quot;&gt;5.1&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$b = &lt;span class=&quot;number&quot;&gt;5.1&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$size = &lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$t1 = intval($a = floatval($a) * $size);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$t2 = intval($b = floatval($b) * $size);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$t = rand($t1, $t2);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; $t; &lt;span class=&quot;comment&quot;&gt;// 计算结果是509，而不是510&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>图片资源优化</title>
    <link href="https://entimm.com/2016/09/18/%E5%9B%BE%E7%89%87%E8%B5%84%E6%BA%90%E4%BC%98%E5%8C%96/"/>
    <id>https://entimm.com/2016/09/18/图片资源优化/</id>
    <published>2016-09-18T15:23:34.000Z</published>
    <updated>2017-05-18T16:28:06.000Z</updated>
    
    <content type="html"><![CDATA[<ol>
<li><p>选择合适的图片格式</p>
<p> 原理：对图片格式转换，在画质可以接受的情况下达到更好的压缩比效果<br> 优势：减少图片加载流量，效果比较明显<br> 劣势：服务器和浏览器压力增大，而且服务器需要额外的服务支持，格式转换要考虑浏览器的兼容性</p>
</li>
<li><p>图片大小小于2KB时可使用base64编码代替图片</p>
</li>
<li><p>不同终端对同一个图片需求不一样，可以根据终端加载不同的图片来节省没必要的流量</p>
</li>
<li><p>使用css、svg、canvas或iconfont代替图片</p>
</li>
<li><p>合并图片：</p>
<p> 优势：可以有效的较少请求个数<br> 劣势：生成的图片体积较大，减少请求个数同时也增加了图片大小，不合理拆分将不利于并行加载</p>
</li>
<li><p>图片压缩</p>
<p> 原理：对图片进行无损、有损压缩，转为压缩后图片来实现<br> 优势：减少图片加载流量，效果比较明显<br> 劣势：服务器和浏览器压力增大，而且服务器需要额外的服务支持</p>
</li>
<li><p>使用 CDN</p>
<p> 使用参数自动调节图片质量和大小的，最关键的还是，CDN 的每 G 流量价格普遍比 VPS 按流量付费的价格要低得多！</p>
</li>
<li><p>部署到单独的服务器中</p>
</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;&lt;p&gt;选择合适的图片格式&lt;/p&gt;
&lt;p&gt; 原理：对图片格式转换，在画质可以接受的情况下达到更好的压缩比效果&lt;br&gt; 优势：减少图片加载流量，效果比较明显&lt;br&gt; 劣势：服务器和浏览器压力增大，而且服务器需要额外的服务支持，格式转换要考虑浏览器的兼容性&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;图片大小小于2KB时可使用base64编码代替图片&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;不同终端对同一个图片需求不一样，可以根据终端加载不同的图片来节省没必要的流量&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;使用css、svg、canvas或iconfont代替图片&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;合并图片：&lt;/p&gt;
&lt;p&gt; 优势：可以有效的较少请求个数&lt;br&gt; 劣势：生成的图片体积较大，减少请求个数同时也增加了图片大小，不合理拆分将不利于并行加载&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;图片压缩&lt;/p&gt;
&lt;p&gt; 原理：对图片进行无损、有损压缩，转为压缩后图片来实现&lt;br&gt; 优势：减少图片加载流量，效果比较明显&lt;br&gt; 劣势：服务器和浏览器压力增大，而且服务器需要额外的服务支持&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;使用 CDN&lt;/p&gt;
&lt;p&gt; 使用参数自动调节图片质量和大小的，最关键的还是，CDN 的每 G 流量价格普遍比 VPS 按流量付费的价格要低得多！&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;部署到单独的服务器中&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;

    
    </summary>
    
    
  </entry>
  
</feed>
